(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30ceab82","chunk-7dc80f69","chunk-2d224d04"],{"6fb7":function(a,e,t){},a846:function(a,e,t){},bf0a:function(a,e,t){"use strict";t("6fb7")},d4f5:function(a,e,t){"use strict";t.r(e);var r=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("a-modal",{attrs:{title:"办理入院",width:900,visible:a.visible,confirmLoading:a.confirmLoading},on:{ok:a.handleSubmit,cancel:a.handleCancel}},[t("a-spin",{attrs:{spinning:a.confirmLoading}},[t("a-form",{attrs:{form:a.form,layout:"inline"}},[t("p",{staticClass:"p-message"},[a._v("患者基本信息")]),t("a-row",{attrs:{gutter:48}},[t("a-col",{attrs:{md:12,sm:24}},[t("a-form-item",{attrs:{label:"入院单条码"}},[t("a-input",{attrs:{"allow-clear":"",placeholder:"请输入条码 "},model:{value:a.queryParamMock.tm,callback:function(e){a.$set(a.queryParamMock,"tm",e)},expression:"queryParamMock.tm"}})],1)],1),t("a-col",{attrs:{md:12,sm:24}},[t("a-form-item",{attrs:{label:"姓名"}},[t("a-input",{attrs:{"allow-clear":"",placeholder:"请输入姓名 "},model:{value:a.queryParamMock.xm,callback:function(e){a.$set(a.queryParamMock,"xm",e)},expression:"queryParamMock.xm"}})],1)],1),t("a-col",{attrs:{md:12,sm:24}},[t("a-form-item",{attrs:{label:"身份证号"}},[t("a-input",{attrs:{"allow-clear":"",placeholder:"请输入身份证号 "},model:{value:a.queryParamMock.idN,callback:function(e){a.$set(a.queryParamMock,"idN",e)},expression:"queryParamMock.idN"}})],1)],1),t("a-col",{attrs:{md:12,sm:24}},[t("a-form-item",{attrs:{label:"入院病区"}},[t("a-select",{staticStyle:{},attrs:{"allow-clear":"",placeholder:"请选择入院病区"},model:{value:a.queryParamMock.yljgdm,callback:function(e){a.$set(a.queryParamMock,"yljgdm",e)},expression:"queryParamMock.yljgdm"}},a._l(a.hosData,(function(e,r){return t("a-select-option",{key:r,attrs:{value:e.code}},[a._v(a._s(e.value))])})),1)],1)],1)],1),t("p",{staticClass:"p-message"},[a._v("入院信息")]),t("a-row",{attrs:{gutter:48}},[t("a-col",{attrs:{md:12,sm:24}},[t("a-form-item",{attrs:{label:"入院单条码"}},[t("a-input",{attrs:{"allow-clear":"",placeholder:"请输入条码 "},model:{value:a.queryParamMock.tm,callback:function(e){a.$set(a.queryParamMock,"tm",e)},expression:"queryParamMock.tm"}})],1)],1),t("a-col",{attrs:{md:12,sm:24}},[t("a-form-item",{attrs:{label:"姓名"}},[t("a-input",{attrs:{"allow-clear":"",placeholder:"请输入姓名 "},model:{value:a.queryParamMock.xm,callback:function(e){a.$set(a.queryParamMock,"xm",e)},expression:"queryParamMock.xm"}})],1)],1),t("a-col",{attrs:{md:12,sm:24}},[t("a-form-item",{attrs:{label:"身份证号"}},[t("a-input",{attrs:{"allow-clear":"",placeholder:"请输入身份证号 "},model:{value:a.queryParamMock.idN,callback:function(e){a.$set(a.queryParamMock,"idN",e)},expression:"queryParamMock.idN"}})],1)],1),t("a-col",{attrs:{md:12,sm:24}},[t("a-form-item",{attrs:{label:"入院病区"}},[t("a-select",{attrs:{"allow-clear":"",placeholder:"请选择入院病区"},model:{value:a.queryParamMock.yljgdm,callback:function(e){a.$set(a.queryParamMock,"yljgdm",e)},expression:"queryParamMock.yljgdm"}},a._l(a.hosData,(function(e,r){return t("a-select-option",{key:r,attrs:{value:e.code}},[a._v(a._s(e.value))])})),1)],1)],1)],1),t("p",{staticClass:"p-message"},[a._v("床位调配信息")]),t("a-row",{attrs:{gutter:48}},[t("a-col",{attrs:{md:12,sm:24}},[t("a-form-item",{attrs:{label:"入院单条码"}},[t("a-input",{attrs:{"allow-clear":"",placeholder:"请输入条码 "},model:{value:a.queryParamMock.tm,callback:function(e){a.$set(a.queryParamMock,"tm",e)},expression:"queryParamMock.tm"}})],1)],1),t("a-col",{attrs:{md:12,sm:24}},[t("a-form-item",{attrs:{label:"姓名"}},[t("a-input",{attrs:{"allow-clear":"",placeholder:"请输入姓名 "},model:{value:a.queryParamMock.xm,callback:function(e){a.$set(a.queryParamMock,"xm",e)},expression:"queryParamMock.xm"}})],1)],1),t("a-col",{attrs:{md:12,sm:24}},[t("a-form-item",{attrs:{label:"身份证号"}},[t("a-input",{attrs:{"allow-clear":"",placeholder:"请输入身份证号 "},model:{value:a.queryParamMock.idN,callback:function(e){a.$set(a.queryParamMock,"idN",e)},expression:"queryParamMock.idN"}})],1)],1),t("a-col",{attrs:{md:12,sm:24}},[t("a-form-item",{attrs:{label:"入院病区"}},[t("a-select",{attrs:{"allow-clear":"",placeholder:"请选择入院病区"},model:{value:a.queryParamMock.yljgdm,callback:function(e){a.$set(a.queryParamMock,"yljgdm",e)},expression:"queryParamMock.yljgdm"}},a._l(a.hosData,(function(e,r){return t("a-select-option",{key:r,attrs:{value:e.code}},[a._v(a._s(e.value))])})),1)],1)],1)],1)],1)],1)],1)},s=[],o=(t("99af"),t("d3b7"),t("4cab")),l={data:function(){return{labelCol:{xs:{span:24},sm:{span:5}},queryParamMock:{},wrapperCol:{xs:{span:24},sm:{span:15}},keshiData:[],hosData:[{code:"444885559",value:"湘雅附二医院"}],visible:!1,confirmLoading:!1,form:this.$form.createForm(this)}},created:function(){this.getKeShi()},methods:{edit:function(a){var e=this;this.visible=!0,setTimeout((function(){e.form.setFieldsValue({id:a.id,xm:a.xm,jg:"湘雅附二医院",ssks:a.ssks,zhic:a.zhic,tel:a.tel}),"男"!=a.xb&&a.xb?e.form.setFieldsValue({xb:2}):e.form.setFieldsValue({xb:1})}),100)},onSelected:function(a){for(var e=0;e<this.keshiData.length;e++)this.keshiData[e].yyksdm==a&&(this.seletSsksName=this.keshiData[e].yyksmc)},getKeShi:function(){var a=this;Object(o["pb"])({hospitalCode:"444885559"}).then((function(e){if(e.success){for(var t=[],r=0;r<e.data.length;r++)e.data[r].departmentList&&e.data[r].departmentList.length>0&&(t=t.concat(e.data[r].departmentList));a.keshiData=t}})).catch((function(a){}))},handleSubmit:function(){var a=this,e=this.form.validateFields;this.confirmLoading=!0,e((function(e,t){e?a.confirmLoading=!1:(1==t.xb?t.xb="男":t.xb="女",t.ssksName=a.seletSsksName,delete t.jg,Object(o["i"])(t).then((function(e){e.success?(a.$message.success("编辑成功"),a.visible=!1,a.confirmLoading=!1,a.$emit("ok",t),a.form.resetFields()):a.$message.error("编辑失败："+e.message)})).finally((function(e){a.confirmLoading=!1})))}))},handleCancel:function(){this.form.resetFields(),this.visible=!1}}},n=l,c=(t("f907"),t("2877")),i=Object(c["a"])(n,r,s,!1,null,null,null);e["default"]=i.exports},da81:function(a,e,t){"use strict";t.r(e);var r=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("a-card",{attrs:{bordered:!1}},[a.hasPerm("sysPos:page")?t("div",{staticClass:"table-page-search-wrapper"},[t("a-form",{attrs:{layout:"inline"}},[t("a-row",{attrs:{gutter:48}},[t("a-col",{attrs:{md:4,sm:10}},[t("a-form-item",{attrs:{label:"入院单条码"}},[t("a-input",{attrs:{"allow-clear":"",placeholder:"请输入条码 "},on:{keyup:function(e){return!e.type.indexOf("key")&&a._k(e.keyCode,"enter",13,e.key,"Enter")?null:a.$refs.table.refresh(!0)}},model:{value:a.queryParamMock.tm,callback:function(e){a.$set(a.queryParamMock,"tm",e)},expression:"queryParamMock.tm"}})],1)],1),t("a-col",{attrs:{md:4,sm:24}},[t("a-form-item",{attrs:{label:"姓名"}},[t("a-input",{attrs:{"allow-clear":"",placeholder:"请输入姓名 "},on:{keyup:function(e){return!e.type.indexOf("key")&&a._k(e.keyCode,"enter",13,e.key,"Enter")?null:a.$refs.table.refresh(!0)}},model:{value:a.queryParamMock.xm,callback:function(e){a.$set(a.queryParamMock,"xm",e)},expression:"queryParamMock.xm"}})],1)],1),t("a-col",{attrs:{md:5,sm:24}},[t("a-form-item",{attrs:{label:"身份证号"}},[t("a-input",{attrs:{"allow-clear":"",placeholder:"请输入身份证号 "},on:{keyup:function(e){return!e.type.indexOf("key")&&a._k(e.keyCode,"enter",13,e.key,"Enter")?null:a.$refs.table.refresh(!0)}},model:{value:a.queryParamMock.idN,callback:function(e){a.$set(a.queryParamMock,"idN",e)},expression:"queryParamMock.idN"}})],1)],1),t("a-col",{attrs:{md:4,sm:24}},[t("a-form-item",{attrs:{label:"入院病区"}},[t("a-select",{attrs:{"allow-clear":"",placeholder:"请选择入院病区"},model:{value:a.queryParamMock.yljgdm,callback:function(e){a.$set(a.queryParamMock,"yljgdm",e)},expression:"queryParamMock.yljgdm"}},a._l(a.hosData,(function(e,r){return t("a-select-option",{key:r,attrs:{value:e.code}},[a._v(a._s(e.value))])})),1)],1)],1),t("a-col",{attrs:{md:4,sm:24}},[t("a-form-item",{attrs:{label:"状态"}},[t("a-select",{attrs:{"allow-clear":"",placeholder:"请选择状态"},model:{value:a.queryParamMock.ddd,callback:function(e){a.$set(a.queryParamMock,"ddd",e)},expression:"queryParamMock.ddd"}},a._l(a.keshiData,(function(e,r){return t("a-select-option",{key:r,attrs:{value:e.yyksdm}},[a._v(a._s(e.yyksmc))])})),1)],1)],1),t("a-col",{attrs:{md:3,sm:24}},[t("span",{staticClass:"table-page-search-submitButtons",style:a.advanced&&{float:"right",overflow:"hidden"}||{}},[t("a-button",{attrs:{type:"primary"},on:{click:function(e){return a.$refs.table.refresh(!0)}}},[a._v("查询")])],1)])],1)],1)],1):a._e(),t("s-table",{ref:"table",attrs:{size:"default",columns:a.columns,data:a.loadData,alert:!0,rowKey:function(a){return a.code}},scopedSlots:a._u([{key:"action",fn:function(e,r){return t("span",{},[t("a",{on:{click:function(e){return a.goCheck(r)}}},[a._v("确认入院")])])}}])}),t("add-form",{ref:"addForm",on:{ok:a.handleOk}}),t("edit-form",{ref:"editForm",on:{ok:a.handleOk}})],1)},s=[],o=(t("99af"),t("2af9")),l=t("4cab"),n=t("e278"),c=t("d4f5"),i={components:{STable:o["s"],addForm:n["default"],editForm:c["default"]},data:function(){var a=this;return{advanced:!1,hosData:[{code:"444885559",value:"湘雅附二医院"}],opTypeDict:[{code:"1",value:"儿科"},{code:"2",value:"脑科"},{code:"3",value:"耳鼻喉科"},{code:"4",value:"内科"},{code:"5",value:"外科"},{code:"6",value:"精神科"}],queryParam:{yljgdm:"444885559"},queryParamMock:{yljgdm:"444885559"},columns:[{title:"入院单条码",dataIndex:"id"},{title:"姓名",dataIndex:"xm"},{title:"性别",dataIndex:"xb"},{title:"年龄",dataIndex:"age"},{title:"身份证",dataIndex:"idNo"},{title:"入院病区",dataIndex:"ssksName"},{title:"状态",dataIndex:"status"},{title:"申请时间",dataIndex:"time"},{title:"是否急诊候床",dataIndex:"bedId"},{title:"是否手术",dataIndex:"isSurgery"},{title:"是否全病程",dataIndex:"isWhole"},{title:"操作",width:"150px",dataIndex:"action",scopedSlots:{customRender:"action"}}],keshiData:[{yyksdm:"01",yyksmc:"未办理"},{yyksdm:"02",yyksmc:"调度中"},{yyksdm:"03",yyksmc:"已获得床位"},{yyksdm:"03",yyksmc:"通知候床"},{yyksdm:"03",yyksmc:"住院转区"},{yyksdm:"03",yyksmc:"已入院"},{yyksdm:"03",yyksmc:"已取消"}],loadData:function(e){return Object(l["mb"])(Object.assign(e,a.queryParam)).then((function(e){for(var t=0;t<e.data.rows.length;t++)a.$set(e.data.rows[t],"age",23+Math.round(10*Math.random())),a.$set(e.data.rows[t],"idNo","430260199205235220"+Math.round(Math.random())),a.$set(e.data.rows[t],"status","已入院"),a.$set(e.data.rows[t],"time","20210510"+Math.round(10*Math.random())),Math.round(Math.random())%3==1?a.$set(e.data.rows[t],"bedId","是"):a.$set(e.data.rows[t],"bedId","否"),Math.round(Math.random())%3==1?a.$set(e.data.rows[t],"isSurgery","是"):a.$set(e.data.rows[t],"isSurgery","否"),Math.round(Math.random())%3==1?a.$set(e.data.rows[t],"isWhole","是"):a.$set(e.data.rows[t],"isWhole","否"),e.data.rows[t].xb||a.$set(e.data.rows[t],"xb","男"),0==t&&(a.$set(e.data.rows[t],"xm","杨晚花"),a.$set(e.data.rows[t],"xb","女"),a.$set(e.data.rows[t],"age",54),a.$set(e.data.rows[t],"idNo","430260196707075220")),e.data.rows[t].ssksName||a.$set(e.data.rows[t],"ssksName","骨科");return e.data}))},selectedRowKeys:[],selectedRows:[]}},created:function(){},methods:{toggleAdvanced:function(){this.advanced=!this.advanced},handleStatus:function(a){var e=this;a.activeFlag=1==a.activeFlag||null==a.activeFlag?0:1,Object(l["i"])(a).then((function(a){a.success?(e.$message.success("切换成功"),e.$refs.table.refresh()):e.$message.error("切换失败："+a.message)})).catch((function(a){e.$message.error("切换错误："+a.message)}))},goCheck:function(a){this.$router.push({name:"sys_check",data:a})},getKeShi:function(){var a=this;Object(l["pb"])({hospitalCode:"444885559"}).then((function(e){if(e.success){for(var t=[],r=0;r<e.data.length;r++)e.data[r].departmentList&&e.data[r].departmentList.length>0&&(t=t.concat(e.data[r].departmentList));a.keshiData=t}})).catch((function(a){}))},handleOk:function(){this.$refs.table.refresh()},onSelectChange:function(a,e){this.selectedRowKeys=a,this.selectedRows=e}}},d=i,m=(t("bf0a"),t("2877")),u=Object(m["a"])(d,r,s,!1,null,null,null);e["default"]=u.exports},e278:function(a,e,t){"use strict";t.r(e);var r=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("a-modal",{attrs:{title:"新增职位",width:900,visible:a.visible,confirmLoading:a.confirmLoading},on:{ok:a.handleSubmit,cancel:a.handleCancel}},[t("a-spin",{attrs:{spinning:a.confirmLoading}},[t("a-form",{attrs:{form:a.form}},[t("a-form-item",{attrs:{label:"职位名称",labelCol:a.labelCol,wrapperCol:a.wrapperCol,"has-feedback":""}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入职位名称！"}]}],expression:"['name', {rules: [{required: true, message: '请输入职位名称！'}]}]"}],attrs:{placeholder:"请输入职位名称"}})],1),t("a-form-item",{attrs:{label:"唯一编码",labelCol:a.labelCol,wrapperCol:a.wrapperCol,"has-feedback":""}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["code",{rules:[{required:!0,message:"请输入唯一编码！"}]}],expression:"['code', {rules: [{required: true,  message: '请输入唯一编码！'}]}]"}],attrs:{placeholder:"请输入唯一编码"}})],1),t("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"排序"}},[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["sort",{initialValue:100}],expression:"['sort', { initialValue: 100 }]"}],staticStyle:{width:"100%"},attrs:{placeholder:"请输入排序",min:1,max:1e3}})],1),t("a-form-item",{attrs:{label:"备注",labelCol:a.labelCol,wrapperCol:a.wrapperCol,"has-feedback":""}},[t("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remark"],expression:"['remark']"}],attrs:{rows:4,placeholder:"请输入备注"}})],1)],1)],1)],1)},s=[],o=(t("d3b7"),t("4cab")),l={data:function(){return{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:15}},visible:!1,confirmLoading:!1,form:this.$form.createForm(this)}},methods:{add:function(a){this.visible=!0},handleSubmit:function(){var a=this,e=this.form.validateFields;this.confirmLoading=!0,e((function(e,t){e?a.confirmLoading=!1:Object(o["dd"])(t).then((function(e){e.success?(a.$message.success("新增成功"),a.visible=!1,a.confirmLoading=!1,a.$emit("ok",t),a.form.resetFields()):a.$message.error("新增失败："+e.message)})).finally((function(e){a.confirmLoading=!1}))}))},handleCancel:function(){this.form.resetFields(),this.visible=!1}}},n=l,c=t("2877"),i=Object(c["a"])(n,r,s,!1,null,null,null);e["default"]=i.exports},f907:function(a,e,t){"use strict";t("a846")}}]);
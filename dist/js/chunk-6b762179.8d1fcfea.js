(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b762179"],{"3e01":function(e,t,a){},a24e:function(e,t,a){"use strict";a("3e01")},f1b8:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"div-service-pac"},[a("a-card",{staticClass:"card-right-pac",attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:3,sm:24}},[a("span",{staticClass:"table-page-search-submitButtons",style:e.advanced&&{float:"right",overflow:"hidden"}||{}},[a("a-button",{attrs:{type:"primary"},on:{click:e.newPackage}},[e._v("新增类别")])],1)])],1)],1)],1),a("s-table",{ref:"table",attrs:{size:"default",columns:e.columns,data:e.loadData,alert:!0,rowKey:function(e){return e.code}},scopedSlots:e._u([{key:"action",fn:function(t,s){return a("span",{},[a("a",{on:{click:function(t){return e.goCheck(s)}}},[e._v("查看")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.goChange(s)}}},[e._v("修改")]),a("a-divider",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"vertical"}}),a("a-popconfirm",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{title:"确定删除套餐吗？","ok-text":"确定","cancel-text":"取消"},on:{confirm:function(t){return e.goDelete(s)}}},[a("a",[e._v("删除")])])],1)}},{key:"ifOnline",fn:function(t,s){return a("span",{},[a("a-popconfirm",{attrs:{title:s.isOnlineText,"ok-text":"确定","cancel-text":"取消"},on:{confirm:function(t){return e.goOnline(s)}}},[a("a-switch",{attrs:{checked:s.isOnline}})],1)],1)}},{key:"ifSuggest",fn:function(t,s){return a("span",{},[a("a-popconfirm",{attrs:{title:s.isSuggestText,"ok-text":"确定","cancel-text":"取消"},on:{confirm:function(t){return e.goSuggest(s)}}},[a("a-switch",{attrs:{checked:s.isSuggest}})],1)],1)}},{key:"ifCanBuy",fn:function(t,s){return"1030810"==s.belong?a("span",{},[a("a-popconfirm",{attrs:{title:s.isNoBuyText,"ok-text":"确定","cancel-text":"取消"},on:{confirm:function(t){return e.goCanBuy(s)}}},[a("a-switch",{attrs:{checked:s.isNoBuy}})],1)],1):e._e()}}],null,!0)})],1)],1)},n=[],o=a("ade3"),i=(a("99af"),a("2af9")),c=a("4cab"),r={components:{STable:i["s"]},computed:{rowSelection:function(){return{onChange:this.onSelectChange,getCheckboxProps:function(e){return{props:{disabled:!e.userId,name:e.userId}}}}},hasSelected:function(){return this.selectedRowKeys.length>0}},data:function(){var e=this;return{selectedRowKeys:[],advanced:!1,isSuggestText:"确定推荐？",isNoBuyText:"",isOnlineText:"",keshiData:[],onlineData:[{code:1,value:"正常"},{code:2,value:"待上架"},{code:3,value:"下架"}],suggestData:[{code:1,value:"推荐"},{code:0,value:"不推荐"}],partChoose:"",queryParams:{belong:void 0,status:void 0,topFlag:void 0,keyWords:void 0},columns:[{title:"序号",dataIndex:"xh"},{title:"类别名称",dataIndex:"className"},{title:"所属科室",dataIndex:"deptName"},{title:"是否上架",dataIndex:"ifOnline",scopedSlots:{customRender:"ifOnline"}},{title:"是否推荐",dataIndex:"ifSuggest",scopedSlots:{customRender:"ifSuggest"}},{title:"限制购买",scopedSlots:{customRender:"ifCanBuy"}},{title:"创建人",dataIndex:"ownerName"},{title:"创建时间",dataIndex:"createTimeName"},{title:"操作",width:"150px",dataIndex:"action",scopedSlots:{customRender:"action"}}],loadDataOut:[],loadData:function(t){return Object(c["rc"])(Object.assign(t,e.queryParams)).then((function(t){for(var a=0;a<t.data.rows.length;a++)e.$set(t.data.rows[a],"xh",a+1+(t.data.pageNo-1)*t.data.pageSize),e.$set(t.data.rows[a],"createTimeName",e.formatDate(t.data.rows[a].createTime)),1==t.data.rows[a].topFlag?(e.$set(t.data.rows[a],"isSuggest",!0),e.$set(t.data.rows[a],"isSuggestText","确定取消推荐？")):(e.$set(t.data.rows[a],"isSuggest",!1),e.$set(t.data.rows[a],"isSuggestText","确定推荐？")),1==t.data.rows[a].status?(e.$set(t.data.rows[a],"isOnline",!0),e.$set(t.data.rows[a],"isOnlineText","确定下架？")):(e.$set(t.data.rows[a],"isOnline",!1),e.$set(t.data.rows[a],"isOnlineText","确定上架？")),1==t.data.rows[a].limitFlag?(e.$set(t.data.rows[a],"isNoBuy",!0),e.$set(t.data.rows[a],"isNoBuyText","确定可购买？")):(e.$set(t.data.rows[a],"isNoBuy",!1),e.$set(t.data.rows[a],"isNoBuyText","确定不可购买？"));return e.loadDataOut=t.data,t.data}))},selectedRows:[]}},created:function(){this.getKeShi()},methods:Object(o["a"])({onSelectChange:function(e){this.selectedRowKeys=e},formatDate:function(e){e=new Date(e);var t=e.getFullYear(),a=e.getMonth()+1,s=e.getDate();return a<10&&(a="0"+a),s<10&&(s="0"+s),"".concat(t,"-").concat(a,"-").concat(s)},goOnline:function(e){var t=this;1==e.status?e.status=3:e.status=1;var a={classId:e.classId,status:e.status,className:e.className,owner:e.owner};Object(c["Zc"])(a).then((function(a){0==a.code?(t.$message.success("操作成功"),e.isOnline=!e.isOnline,setTimeout((function(){e.isOnlineText=e.isOnline?"确定下架？":"确定上架？"}),200)):t.$message.error(a.message)}))},goSuggest:function(e){var t=this;1==e.topFlag?e.topFlag=0:e.topFlag=1;var a={classId:e.classId,topFlag:e.topFlag,className:e.className,owner:e.owner};Object(c["Zc"])(a).then((function(a){0==a.code?(t.$message.success("操作成功"),e.isSuggest=!e.isSuggest,setTimeout((function(){e.isSuggestText=e.isSuggest?"确定取消推荐？":"确定推荐？"}),200)):t.$message.error(a.message)}))},goCanBuy:function(e){var t=this;1==e.limitFlag?e.limitFlag=0:e.limitFlag=1;var a={classId:e.classId,limitFlag:e.limitFlag,className:e.className,owner:e.owner};Object(c["Zc"])(a).then((function(a){0==a.code?(t.$message.success("操作成功"),e.isNoBuy=!e.isNoBuy,setTimeout((function(){e.isNoBuyText=e.isNoBuy?"确定可购买？":"确定不可购买？"}),200)):t.$message.error(a.message)}))},getKeShi:function(){var e=this;Object(c["Fc"])("444885559").then((function(t){0==t.code?e.keshiData=t.data:e.$message.error("获取科室列表失败："+t.message)}))},newPackage:function(){this.$router.push({name:"package_type_add"})},goCheck:function(e){this.$router.push({name:"package_type_look",params:{record:e}})},goChange:function(e){this.$router.push({name:"package_type_edit",query:{recordStr:JSON.stringify(e)}})},handleOk:function(){this.$refs.table.refresh()}},"onSelectChange",(function(e,t){this.selectedRowKeys=e,this.selectedRows=t}))},u=r,l=(a("a24e"),a("2877")),d=Object(l["a"])(u,s,n,!1,null,null,null);t["default"]=d.exports}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-394006b2"],{"5b9d":function(s,a,e){"use strict";e("dbff")},"916f":function(s,a,e){"use strict";e.r(a);var t=function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("a-modal",{attrs:{title:"订单详情",width:900,visible:s.visible,confirmLoading:s.confirmLoading,footer:null},on:{ok:s.handleSubmit,cancel:s.handleCancel}},[e("a-spin",{attrs:{spinning:s.confirmLoading}},[e("div",{staticClass:"div-order-detail"},[e("div",{staticClass:"div-line-wrap"},[e("span",{staticClass:"span-item-name"},[s._v("订单编号 :")]),e("span",{staticClass:"span-item-value"},[s._v(s._s(s.record.orderId)+" ")]),e("span",{staticClass:"span-item-name",staticStyle:{"margin-left":"3%"}},[s._v(" 订单状态 :")]),e("span",{staticClass:"span-item-value"},[s._v(s._s(s.getStatusText(s.record.status))+" ")])]),e("div",{staticClass:"div-line-wrap"},[e("span",{staticClass:"span-item-name"},[s._v(" 下单时间 :")]),e("span",{staticClass:"span-item-value"},[s._v(s._s(s.record.orderTime)+" ")]),e("span",{staticClass:"span-item-name",staticStyle:{"margin-left":"3%"}},[s._v(" 支付时间 :")]),e("span",{staticClass:"span-item-value"},[s._v(s._s(s.record.updateTime)+" ")])]),e("div",{staticClass:"div-line-wrap"},[e("span",{staticClass:"span-item-name"},[s._v(" 用户ID :")]),e("span",{staticClass:"span-item-value"},[s._v(s._s(s.record.userIdIn)+" ")]),e("span",{staticClass:"span-item-name",staticStyle:{"margin-left":"3%"}},[s._v(" 就诊人 :")]),e("span",{staticClass:"span-item-value"},[s._v(s._s(s.record.userNameIn)+" ")])]),e("div",{staticClass:"div-line-wrap"},[e("span",{staticClass:"span-item-name"},[s._v(" 总金额（元） :")]),e("span",{staticClass:"span-item-value"},[s._v(s._s(s.record.total)+" ")])]),e("div",{staticClass:"div-health-plan"},[e("div",{staticClass:"div-plan-item firstItem"},[e("span",{staticClass:"span-item-name"},[s._v(" "+s._s(s.colName1))]),e("span",{staticClass:"span-item-name"},[s._v(" "+s._s(s.colName2))]),e("span",{staticClass:"span-item-name"},[s._v(" 单价 （元） ")]),e("span",{staticClass:"span-item-name"},[s._v(" 数量")]),e("span",{staticClass:"span-item-name"},[s._v(" 金额（元） ")])]),s._l(s.record.goodsInfo,(function(a,t){return e("div",{key:t,staticClass:"div-plan-item"},["prescription"!=s.record.orderType?e("span",{staticClass:"span-item-name"},[s._v(" "+s._s(a.goodsName))]):s._e(),"prescription"==s.record.orderType?e("span",{staticClass:"span-item-name"},[s._v(" 线上复诊")]):s._e(),"prescription"!=s.record.orderType?e("span",{staticClass:"span-item-name"},[s._v(" "+s._s(a.goodsSpec))]):s._e(),"prescription"==s.record.orderType?e("span",{staticClass:"span-item-name"},[s._v(" "+s._s(a.goodsName))]):s._e(),e("span",{staticClass:"span-item-name"},[s._v(" "+s._s(a.price)+" ")]),e("span",{staticClass:"span-item-name"},[s._v(" "+s._s(a.number))]),e("span",{staticClass:"span-item-name"},[s._v(" "+s._s(a.total)+" ")])])}))],2),2==s.record.status&&"admin"==s.roleName&&"register"==s.record.orderType?e("a-button",{staticClass:"btn-submit",staticStyle:{"margin-left":"42%","margin-top":"5%"},attrs:{type:"primary"},on:{click:s.goRefund}},[s._v("申请退单")]):s._e()],1)])],1)},i=[],n=(e("d3b7"),e("4cab")),r=e("9fb0"),o=e("2b0e"),c={data:function(){return{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:15}},visible:!1,confirmLoading:!1,roleName:"",colName1:"",colName2:"",form:this.$form.createForm(this),record:{}}},created:function(){var s=o["a"].ls.get(r["o"]);this.roleName=s.roleName},methods:{add:function(s){this.record={},this.record=s,this.visible=!0,"prescription"==this.record.orderType?(this.colName1="项目名称",this.colName2="药品清单"):(this.colName1="套餐名称",this.colName2="服务类别");for(var a=0;a<this.record.goodsInfo.length;a++)this.$set(this.record.goodsInfo[a],"total",this.record.goodsInfo[a].price*this.record.goodsInfo[a].number+""),this.$set(this.record.goodsInfo[a],"goodsSpec",this.record.goodsInfo[a].goodsClassInfo.className)},getStatusText:function(s){return 1==s?"待支付":2==s?"已完成":3==s?"支付中":4==s?"待收货":5==s?"订单取消":6==s?"已退款":7==s?"已配送":void 0},goRefund:function(){var s=this;Object(n["Gc"])({orderId:this.record.orderId}).then((function(a){a.success?(s.$message.success("申请成功"),s.visible=!1,s.confirmLoading=!1,s.$emit("ok",""),s.form.resetFields()):s.$message.error("申请失败："+a.message)})).finally((function(a){s.confirmLoading=!1}))},handleSubmit:function(){var s=this,a=this.form.validateFields;this.confirmLoading=!0,a((function(a,e){a?s.confirmLoading=!1:Object(n["dd"])(e).then((function(a){a.success?(s.$message.success("新增成功"),s.visible=!1,s.confirmLoading=!1,s.$emit("ok",e),s.form.resetFields()):s.$message.error("新增失败："+a.message)})).finally((function(a){s.confirmLoading=!1}))}))},handleCancel:function(){this.form.resetFields(),this.visible=!1}}},l=c,d=(e("5b9d"),e("2877")),m=Object(d["a"])(l,t,i,!1,null,null,null);a["default"]=m.exports},dbff:function(s,a,e){}}]);
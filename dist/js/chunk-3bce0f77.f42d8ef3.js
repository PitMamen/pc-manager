(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3bce0f77"],{"1ae8":function(e,t,a){"use strict";a("e928")},2704:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:e.title,width:700,height:450,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[a("div",{staticClass:"div-service-user"},[a("div",{staticClass:"div-totalleft",staticStyle:{"margin-top":"-12px"}},[a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px"}},[a("span",{staticStyle:{"margin-top":"0px"}},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" 租户编码:")]),a("a-input",{staticStyle:{width:"200px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$refs.table.refresh(!0)},search:function(t){return e.$refs.table.refresh(!0)}},model:{value:e.queryParams.tenantCode,callback:function(t){e.$set(e.queryParams,"tenantCode",t)},expression:"queryParams.tenantCode"}})],1),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" 租户名称:")]),a("a-input",{staticStyle:{width:"200px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$refs.table.refresh(!0)},search:function(t){return e.$refs.table.refresh(!0)}},model:{value:e.queryParams.tenantName,callback:function(t){e.$set(e.queryParams,"tenantName",t)},expression:"queryParams.tenantName"}})],1),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"7px"}},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" 到期时间:")]),a("a-date-picker",{staticStyle:{"margin-top":"5px","margin-left":"5px",height:"28px",width:"200px"},attrs:{format:"YYYY-MM-DD"},model:{value:e.queryParams.expireDate,callback:function(t){e.$set(e.queryParams,"expireDate",t)},expression:"queryParams.expireDate"}})],1),a("div",{staticClass:"div-title"},[a("div",{staticClass:"div-line-blue"}),a("span",{staticClass:"span-title"},[e._v("租户管理员信息")])]),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" 登录账号:")]),a("a-input",{staticStyle:{width:"200px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$refs.table.refresh(!0)},search:function(t){return e.$refs.table.refresh(!0)}},model:{value:e.queryParams.adminAccount,callback:function(t){e.$set(e.queryParams,"adminAccount",t)},expression:"queryParams.adminAccount"}})],1),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" 管理员姓名:")]),a("a-input",{staticStyle:{width:"188px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$refs.table.refresh(!0)},search:function(t){return e.$refs.table.refresh(!0)}},model:{value:e.queryParams.adminName,callback:function(t){e.$set(e.queryParams,"adminName",t)},expression:"queryParams.adminName"}})],1),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" 联系电话:")]),a("a-input",{staticStyle:{width:"200px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$refs.table.refresh(!0)},search:function(t){return e.$refs.table.refresh(!0)}},model:{value:e.queryParams.phone,callback:function(t){e.$set(e.queryParams,"phone",t)},expression:"queryParams.phone"}})],1),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" 邮箱地址:")]),a("a-input",{staticStyle:{width:"200px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$refs.table.refresh(!0)},search:function(t){return e.$refs.table.refresh(!0)}},model:{value:e.queryParams.email,callback:function(t){e.$set(e.queryParams,"email",t)},expression:"queryParams.email"}})],1),a("div",{staticClass:"div-title"},[a("div",{staticClass:"div-line-blue"}),a("span",{staticClass:"span-title"},[e._v("初始化机构")])]),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" 机构编码:")]),a("a-input",{staticStyle:{width:"200px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$refs.table.refresh(!0)},search:function(t){return e.$refs.table.refresh(!0)}},model:{value:e.queryParams.hospitalCode,callback:function(t){e.$set(e.queryParams,"hospitalCode",t)},expression:"queryParams.hospitalCode"}})],1),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" 机构名称:")]),a("a-input",{staticStyle:{width:"200px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$refs.table.refresh(!0)},search:function(t){return e.$refs.table.refresh(!0)}},model:{value:e.queryParams.hospitalName,callback:function(t){e.$set(e.queryParams,"hospitalName",t)},expression:"queryParams.hospitalName"}})],1)]),a("div",{staticClass:"card-right-user",staticStyle:{"overflow-y":"auto",height:"450px"}},e._l(e.appListOut,(function(t,s){return a("div",{key:s,staticClass:"div-total1",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"div-line-wrap",staticStyle:{"margin-left":"20%","margin-top":"10px"}},[a("span",{staticClass:"span-item-value"},[e._v(e._s(t.applicationName)+" ")])]),a("a-checkbox",{staticStyle:{"margin-bottom":"15px","margin-left":"10%"},on:{change:function(a){return e.selectChange(t)}},model:{value:t.isChecked,callback:function(a){e.$set(t,"isChecked",a)},expression:"item.isChecked"}}),a("span",{staticClass:"span-item-name",staticStyle:{"margin-left":"5%","font-size":"10px",color:"#d9d9d9"}},[e._v(" "+e._s(t.remark))])],1)})),0)])])},i=[],r=a("ade3"),n=(a("d3b7"),a("159b"),a("99af"),a("a434"),a("caad"),a("c1df")),l=a.n(n),o=a("4cab"),p=a("2af9"),c=(a("9fb0"),a("ca00"),{components:{STable:p["s"]},data:function(){var e;return{userId:"",appList:[],appListOut:[],timeStr:"",msgData:[],templateListWX:[],templateListSMS:[],templateListQues:[],id:"",messageContentType:"",queryParams:(e={adminAccount:"",adminName:"",email:"",expireDate:"",hospitalName:"",hospitalCode:"",phone:"",tenantName:"",tenantCode:""},Object(r["a"])(e,"hospitalCode",""),Object(r["a"])(e,"applicationIds",[]),e),queryParamsApp:{applicationName:"",applicationType:"",status:1},visitTypeList:[{code:2,value:"微信消息"},{code:3,value:"短信消息"}],labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:15}},visible:!1,confirmLoading:!1,form:this.$form.createForm(this),title:"新增租户"}},watch:{timeStr:function(){}},methods:{moment:l.a,add:function(e){this.visible=!0,this.reset(),this.getApplicationlistOut()},getApplicationlistOut:function(){var e=this;this.confirmLoading=!0,Object(o["Y"])(this.queryParamsApp).then((function(t){0==t.code&&(e.appList=t.data,e.appListOut=JSON.parse(JSON.stringify(e.appList)),e.appListOut.forEach((function(t,a){e.$set(t,"isChecked",!1)})))})).finally((function(t){e.confirmLoading=!1}))},addTenant:function(){var e=this;this.confirmLoading=!0,Object(o["hd"])(this.queryParams).then((function(t){0==t.code&&t.success?(e.visible=!1,e.$message.success("新增成功"),e.$emit("ok")):e.$message.error("新增失败:"+t.message)})).finally((function(t){e.confirmLoading=!1}))},formatDateOut:function(e){e=new Date(e);var t=e.getFullYear(),a=e.getMonth()+1,s=e.getDate();return a<10&&(a="0"+a),s<10&&(s="0"+s),"".concat(t,"-").concat(a,"-").concat(s)},selectChange:function(e){e.isChecked?this.queryParams.applicationIds.push(e.id):this.queryParams.applicationIds.splice(this.queryParams.applicationIds.indexOf(e.id),1),this.queryParams.applicationIds=this.removeDuplicate(this.queryParams.applicationIds)},removeDuplicate:function(e){var t=[];return null!=e&&e.length>0&&e.forEach((function(e){t.includes(e)||t.push(e)})),t},reset:function(){this.queryParams.adminAccount="",this.queryParams.adminName="",this.queryParams.email="",this.queryParams.expireDate="",this.queryParams.hospitalName="",this.queryParams.hospitalCode="",this.queryParams.phone="",this.queryParams.tenantName="",this.queryParams.tenantCode="",this.queryParams.applicationIds=[]},handleCancel:function(){this.visible=!1},handleSubmit:function(){this.queryParams.adminAccount?this.queryParams.adminName?this.queryParams.email?this.queryParams.expireDate?this.queryParams.hospitalName?this.queryParams.hospitalCode?this.queryParams.phone?this.queryParams.tenantName?this.queryParams.tenantCode?this.queryParams.applicationIds?this.addTenant():this.$message.$error("请选择对应应用权限"):this.$message.$error("请输入租户编码"):this.$message.$error("请输入租户名称"):this.$message.$error("请输入手机号码"):this.$message.$error("请输入机构编码"):this.$message.$error("请输入机构名称"):this.$message.$error("请选择到期日期"):this.$message.$error("请输入邮箱地址"):this.$message.$error("请输入管理员姓名"):this.$message.$error("请输入管理员账号")}}}),m=c,u=(a("1ae8"),a("2877")),d=Object(u["a"])(m,s,i,!1,null,null,null);t["default"]=d.exports},e928:function(e,t,a){}}]);
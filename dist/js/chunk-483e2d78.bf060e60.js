(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-483e2d78"],{"09a4":function(e,a,t){"use strict";t("66ea")},"1cc6":function(e,a,t){"use strict";t.r(a);var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("a-modal",{attrs:{title:e.title,width:700,height:450,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[t("div",{staticClass:"div-service-user"},[t("div",{staticClass:"div-totalleft",staticStyle:{"margin-top":"-12px"}},[t("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px"}},[t("span",{staticStyle:{"margin-top":"5px"}},[t("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" 租户编码:")]),t("a-input",{staticStyle:{width:"200px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.$refs.table.refresh(!0)},search:function(a){return e.$refs.table.refresh(!0)}},model:{value:e.queryParams.tenantCode,callback:function(a){e.$set(e.queryParams,"tenantCode",a)},expression:"queryParams.tenantCode"}})],1),t("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[t("span",{staticStyle:{"margin-top":"10px"}},[t("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" 租户名称:")]),t("a-input",{staticStyle:{width:"200px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.$refs.table.refresh(!0)},search:function(a){return e.$refs.table.refresh(!0)}},model:{value:e.queryParams.tenantName,callback:function(a){e.$set(e.queryParams,"tenantName",a)},expression:"queryParams.tenantName"}})],1),t("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[t("span",{staticStyle:{"margin-top":"7px"}},[t("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" 到期时间:")]),t("a-date-picker",{staticStyle:{"margin-top":"5px","margin-left":"5px",height:"28px",width:"200px"},attrs:{format:"YYYY-MM-DD"},model:{value:e.queryParams.expireDate,callback:function(a){e.$set(e.queryParams,"expireDate",a)},expression:"queryParams.expireDate"}})],1),t("div",{staticClass:"div-title"},[t("div",{staticClass:"div-line-blue"}),t("span",{staticClass:"span-title"},[e._v("租户管理员信息")])]),t("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[t("span",{staticStyle:{"margin-top":"10px"}},[t("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" 登录账号:")]),t("a-input",{staticStyle:{width:"200px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.$refs.table.refresh(!0)},search:function(a){return e.$refs.table.refresh(!0)}},model:{value:e.queryParams.adminAccount,callback:function(a){e.$set(e.queryParams,"adminAccount",a)},expression:"queryParams.adminAccount"}})],1),t("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[t("span",{staticStyle:{"margin-top":"10px"}},[t("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" 管理员姓名:")]),t("a-input",{staticStyle:{width:"188px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.$refs.table.refresh(!0)},search:function(a){return e.$refs.table.refresh(!0)}},model:{value:e.queryParams.adminName,callback:function(a){e.$set(e.queryParams,"adminName",a)},expression:"queryParams.adminName"}})],1),t("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[t("span",{staticStyle:{"margin-top":"10px"}},[t("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" 联系电话:")]),t("a-input",{staticStyle:{width:"200px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.$refs.table.refresh(!0)},search:function(a){return e.$refs.table.refresh(!0)}},model:{value:e.queryParams.phone,callback:function(a){e.$set(e.queryParams,"phone",a)},expression:"queryParams.phone"}})],1),t("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[t("span",{staticStyle:{"margin-top":"10px"}},[t("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" 邮箱地址:")]),t("a-input",{staticStyle:{width:"200px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.$refs.table.refresh(!0)},search:function(a){return e.$refs.table.refresh(!0)}},model:{value:e.queryParams.email,callback:function(a){e.$set(e.queryParams,"email",a)},expression:"queryParams.email"}})],1),t("div",{staticClass:"div-title"},[t("div",{staticClass:"div-line-blue"}),t("span",{staticClass:"span-title"},[e._v("初始化机构")])]),t("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[t("span",{staticStyle:{"margin-top":"10px"}},[t("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" 机构编码:")]),t("a-input",{staticStyle:{width:"200px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.$refs.table.refresh(!0)},search:function(a){return e.$refs.table.refresh(!0)}},model:{value:e.queryParams.hospitalCode,callback:function(a){e.$set(e.queryParams,"hospitalCode",a)},expression:"queryParams.hospitalCode"}})],1),t("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[t("span",{staticStyle:{"margin-top":"10px"}},[t("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" 机构名称:")]),t("a-input",{staticStyle:{width:"200px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.$refs.table.refresh(!0)},search:function(a){return e.$refs.table.refresh(!0)}},model:{value:e.queryParams.hospitalName,callback:function(a){e.$set(e.queryParams,"hospitalName",a)},expression:"queryParams.hospitalName"}})],1)]),t("div",{staticClass:"card-right-user",staticStyle:{"overflow-y":"auto",height:"450px"}},e._l(e.appListOut,(function(a,i){return t("div",{key:i,staticClass:"div-total1",staticStyle:{"margin-bottom":"20px"}},[t("div",{staticClass:"div-line-wrap",staticStyle:{"margin-left":"20%","margin-top":"10px"}},[t("span",{staticClass:"span-item-value"},[e._v(e._s(a.applicationName)+" ")])]),t("a-checkbox",{staticStyle:{"margin-bottom":"15px","margin-left":"10%"},on:{change:function(t){return e.selectChange(a)}},model:{value:a.isChecked,callback:function(t){e.$set(a,"isChecked",t)},expression:"item.isChecked"}}),t("span",{staticClass:"span-item-name",staticStyle:{"margin-left":"5%","font-size":"10px",color:"#d9d9d9"}},[e._v(" "+e._s(a.remark))])],1)})),0)])])},s=[],r=t("ade3"),n=(t("d3b7"),t("159b"),t("caad"),t("2532"),t("99af"),t("a434"),t("c1df")),l=t.n(n),o=t("4cab"),c=t("2af9"),p=(t("9fb0"),t("ca00"),{components:{STable:c["s"]},data:function(){var e;return{userId:"",appList:[],appListOut:[],msgData:[],record:{},tenantId:"",queryParams:(e={adminAccount:"",adminName:"",email:"",expireDate:{},hospitalName:"",hospitalCode:"",phone:"",tenantName:"",tenantCode:""},Object(r["a"])(e,"hospitalCode",""),Object(r["a"])(e,"tenantId",""),Object(r["a"])(e,"applicationIds",[]),e),queryParamsApp:{applicationName:"",applicationType:"",status:1},visitTypeList:[{code:2,value:"微信消息"},{code:3,value:"短信消息"}],labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:15}},visible:!1,confirmLoading:!1,form:this.$form.createForm(this),title:"修改租户"}},watch:{timeStr:function(){}},methods:{moment:l.a,modify:function(e){this.visible=!0,this.reset(),this.tenantId=e.tenantId,this.queryTenantDetailOut()},queryTenantDetailOut:function(){var e=this;this.confirmLoading=!0,Object(o["Nc"])({tenantId:this.tenantId}).then((function(a){0==a.code&&a.success&&(e.queryParams.applicationIds=a.data.applicationIds,e.queryParams.tenantCode=a.data.tenantCode,e.queryParams.tenantName=a.data.tenantName,e.queryParams.expireDate=l()(a.data.expireDate,"YYYY-MM-DD"),e.queryParams.adminAccount=a.data.adminAccount,e.queryParams.adminName=a.data.adminName,e.queryParams.phone=a.data.phone,e.queryParams.email=a.data.email,e.queryParams.hospitalCode=a.data.hospitalCode,e.queryParams.hospitalName=a.data.tenantName,e.queryParams.tenantId=e.tenantId,e.getApplicationlistOut())})).finally((function(a){e.confirmLoading=!1}))},getApplicationlistOut:function(){var e=this;this.confirmLoading=!0,Object(o["Y"])(this.queryParamsApp).then((function(a){0==a.code&&(e.appList=a.data,e.appListOut=JSON.parse(JSON.stringify(e.appList)),e.appListOut.forEach((function(a,t){e.queryParams.applicationIds.includes(a.id)?e.$set(a,"isChecked",!0):e.$set(a,"isChecked",!1)})))})).finally((function(a){e.confirmLoading=!1}))},addTenant:function(){var e=this;this.confirmLoading=!0,Object(o["hd"])(this.queryParams).then((function(a){0==a.code&&a.success?(e.visible=!1,e.$message.success("修改成功"),e.$emit("ok")):e.$message.error("修改失败:"+a.message)})).finally((function(a){e.confirmLoading=!1}))},formatDateOut:function(e){e=new Date(e);var a=e.getFullYear(),t=e.getMonth()+1,i=e.getDate();return t<10&&(t="0"+t),i<10&&(i="0"+i),"".concat(a,"-").concat(t,"-").concat(i)},selectChange:function(e){e.isChecked?this.queryParams.applicationIds.push(e.id):this.queryParams.applicationIds.splice(this.queryParams.applicationIds.indexOf(e.id),1),this.queryParams.applicationIds=this.removeDuplicate(this.queryParams.applicationIds)},removeDuplicate:function(e){var a=[];return null!=e&&e.length>0&&e.forEach((function(e){a.includes(e)||a.push(e)})),a},reset:function(){this.queryParams.adminAccount="",this.queryParams.adminName="",this.queryParams.email="",this.queryParams.expireDate="",this.queryParams.hospitalName="",this.queryParams.hospitalCode="",this.queryParams.phone="",this.queryParams.tenantName="",this.queryParams.tenantCode="",this.queryParams.applicationIds=[]},handleCancel:function(){this.visible=!1},handleSubmit:function(){this.queryParams.adminAccount?this.queryParams.adminName?this.queryParams.email?this.queryParams.expireDate?this.queryParams.hospitalName?this.queryParams.hospitalCode?this.queryParams.phone?this.queryParams.tenantName?this.queryParams.tenantCode?this.queryParams.applicationIds?this.addTenant():this.$message.$error("请选择对应应用权限"):this.$message.$error("请输入租户编码"):this.$message.$error("请输入租户名称"):this.$message.$error("请输入手机号码"):this.$message.$error("请输入机构编码"):this.$message.$error("请输入机构名称"):this.$message.$error("请选择到期日期"):this.$message.$error("请输入邮箱地址"):this.$message.$error("请输入管理员姓名"):this.$message.$error("请输入管理员账号")}}}),m=p,u=(t("09a4"),t("2877")),d=Object(u["a"])(m,i,s,!1,null,null,null);a["default"]=d.exports},"66ea":function(e,a,t){}}]);
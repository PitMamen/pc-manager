(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9a4d9078"],{b775f:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div-remind"},[a("a-tabs",{attrs:{"default-active-key":"1"},on:{change:t.callback}},[a("a-tab-pane",{key:"1",attrs:{tab:"待办任务"}},[a("a-form",{ref:"form",staticClass:"my-form",attrs:{form:t.form}},[a("a-form-item",{attrs:{label:"提醒开关",labelCol:t.labelCol,wrapperCol:t.wrapperCol,"has-feedback":""}},[a("a-switch",{attrs:{checked:t.taskData.isOpen},on:{change:t.onTaskIsOpen}})],1),a("a-form-item",{attrs:{label:"提醒方式",labelCol:t.labelCol,wrapperCol:t.wrapperCol,"has-feedback":""}},[a("a-checkbox",{model:{value:t.taskData.isSms,callback:function(e){t.$set(t.taskData,"isSms",e)},expression:"taskData.isSms"}},[t._v(" 短信 ")]),a("a-checkbox",{model:{value:t.taskData.isSysnotice,callback:function(e){t.$set(t.taskData,"isSysnotice",e)},expression:"taskData.isSysnotice"}},[t._v(" 系统内通知 ")]),a("a-checkbox",{model:{value:t.taskData.isWechat,callback:function(e){t.$set(t.taskData,"isWechat",e)},expression:"taskData.isWechat"}},[t._v(" 微信公众号 ")])],1),a("a-form-item",{attrs:{label:"提醒设置",labelCol:t.labelCol,wrapperCol:t.wrapperColN,"has-feedback":""}},[a("div",{staticClass:"div-todo-time"},[a("span",{staticClass:"span-item-name"},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 提醒频次 :")]),a("a-select",{staticClass:"span-item-value",attrs:{"allow-clear":"",placeholder:"请选择"},model:{value:t.timeCode,callback:function(e){t.timeCode=e},expression:"timeCode"}},t._l(t.taskTimeDatas,(function(e,s){return a("a-select-option",{key:s,attrs:{value:e.code}},[t._v(t._s(e.value))])})),1),a("span",{staticClass:"span-item-name",staticStyle:{"margin-left":"8%"}},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 提醒时间：")]),a("a-time-picker",{staticStyle:{"margin-left":"2%"},attrs:{value:t.moment(t.timeStr,"HH:mm"),"default-value":t.moment("00:00","HH:mm"),format:"HH:mm"},on:{change:t.timeChangeStart}})],1)])],1),a("a-button",{staticStyle:{"margin-left":"18%",display:"block","margin-top":"10%"},attrs:{type:"primary"},on:{click:function(e){return t.updateTaskData()}}},[t._v("立即更新")])],1),a("a-tab-pane",{key:"2",attrs:{tab:"图文问诊"}},[a("div",[a("a-form",{ref:"form",staticClass:"my-form",attrs:{form:t.form}},[a("a-form-item",{attrs:{label:"提醒开关",labelCol:t.labelCol,wrapperCol:t.wrapperCol,"has-feedback":""}},[a("a-switch",{attrs:{checked:t.textData.isOpen},on:{change:t.onTextIsOpen}})],1),a("a-form-item",{attrs:{label:"提醒方式",labelCol:t.labelCol,wrapperCol:t.wrapperCol,"has-feedback":""}},[a("a-checkbox",{model:{value:t.textData.isSms,callback:function(e){t.$set(t.textData,"isSms",e)},expression:"textData.isSms"}},[t._v(" 短信 ")]),a("a-checkbox",{model:{value:t.textData.isSysnotice,callback:function(e){t.$set(t.textData,"isSysnotice",e)},expression:"textData.isSysnotice"}},[t._v(" 系统内通知 ")]),a("a-checkbox",{model:{value:t.textData.isWechat,callback:function(e){t.$set(t.textData,"isWechat",e)},expression:"textData.isWechat"}},[t._v(" 微信公众号 ")])],1),a("a-form-item",{attrs:{label:"提醒设置",labelCol:t.labelCol,wrapperCol:t.wrapperColN,"has-feedback":""}},t._l(t.textNum,(function(e,s){return a("div",{key:s,staticClass:"div-todo-time"},[a("span",{staticClass:"span-item-name",staticStyle:{"margin-left":"8%"}},[t._v(" 未接诊时长")]),a("a-input-number",{staticStyle:{"margin-left":"3.5%"},attrs:{min:0,max:1e6},model:{value:t.textNum[s],callback:function(e){t.$set(t.textNum,s,e)},expression:"textNum[index]"}}),a("span",{staticClass:"span-item-name",staticStyle:{"margin-left":"8%"}},[t._v("分钟")]),a("a-button",{staticStyle:{"margin-left":"15%"},attrs:{type:"primary"},on:{click:function(e){return t.deleteTextItem(s)}}},[t._v("刪除")])],1)})),0)],1),a("a-button",{staticStyle:{margin:"0 auto",display:"block"},attrs:{type:"primary"},on:{click:function(e){return t.goAddText()}}},[t._v("增加")]),a("a-button",{staticStyle:{"margin-left":"18%",display:"block","margin-top":"10%"},attrs:{type:"primary"},on:{click:function(e){return t.updateTextData()}}},[t._v("立即更新")])],1)]),a("a-tab-pane",{key:"3",attrs:{tab:"视频/电话问诊"}},[a("div",[a("a-form",{ref:"form",staticClass:"my-form",attrs:{form:t.form}},[a("a-form-item",{attrs:{label:"提醒开关",labelCol:t.labelCol,wrapperCol:t.wrapperCol,"has-feedback":""}},[a("a-switch",{attrs:{checked:t.videoData.isOpen},on:{change:t.onVideoIsOpen}})],1),a("a-form-item",{attrs:{label:"提醒方式",labelCol:t.labelCol,wrapperCol:t.wrapperCol,"has-feedback":""}},[a("a-checkbox",{model:{value:t.videoData.isSms,callback:function(e){t.$set(t.videoData,"isSms",e)},expression:"videoData.isSms"}},[t._v(" 短信 ")]),a("a-checkbox",{model:{value:t.videoData.isSysnotice,callback:function(e){t.$set(t.videoData,"isSysnotice",e)},expression:"videoData.isSysnotice"}},[t._v(" 系统内通知 ")]),a("a-checkbox",{model:{value:t.videoData.isWechat,callback:function(e){t.$set(t.videoData,"isWechat",e)},expression:"videoData.isWechat"}},[t._v(" 微信公众号 ")])],1),a("a-form-item",{attrs:{label:"提醒设置",labelCol:t.labelCol,wrapperCol:t.wrapperColN,"has-feedback":""}},t._l(t.videoNum,(function(e,s){return a("div",{key:s,staticClass:"div-todo-time"},[a("span",{staticClass:"span-item-name",staticStyle:{"margin-left":"8%"}},[t._v(" 开始前")]),a("a-input-number",{staticStyle:{"margin-left":"3.5%"},attrs:{min:0,max:1e6},model:{value:t.videoNum[s],callback:function(e){t.$set(t.videoNum,s,e)},expression:"videoNum[index]"}}),a("span",{staticClass:"span-item-name",staticStyle:{"margin-left":"8%"}},[t._v("分钟")]),a("a-button",{staticStyle:{"margin-left":"15%"},attrs:{type:"primary"},on:{click:function(e){return t.deleteVideoItem(s)}}},[t._v("刪除")])],1)})),0)],1),a("a-button",{staticStyle:{margin:"0 auto",display:"block"},attrs:{type:"primary"},on:{click:function(e){return t.goAddVideo()}}},[t._v("增加")]),a("a-button",{staticStyle:{"margin-left":"18%",display:"block","margin-top":"10%"},attrs:{type:"primary"},on:{click:function(e){return t.updateVideoData()}}},[t._v("立即更新")])],1)])],1)],1)},i=[],o=(a("ac1f"),a("1276"),a("99af"),a("a434"),a("c1df")),n=a.n(o),c=a("2af9"),l=a("4cab"),r={components:{STable:c["s"]},data:function(){return{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:5}},wrapperColN:{xs:{span:24},sm:{span:18}},form:this.$form.createForm(this),taskData:{afterRemind:"",beforeRemind:"",cron1:"",id:0,remindType:"taskRemind",updateTime:"",onoff:0,isOpen:!1,sms:0,isSms:!1,sysnotice:0,isSysnotice:!1,wechat:0,isWechat:!1},textData:{afterRemind:"",beforeRemind:"",cron1:"",id:0,remindType:"textRemind",updateTime:"",onoff:0,isOpen:!1,sms:0,isSms:!1,sysnotice:0,isSysnotice:!1,wechat:0,isWechat:!1},textNum:[5],videoData:{afterRemind:"",beforeRemind:"",cron1:"",id:0,remindType:"videoRemind",updateTime:"",onoff:0,isOpen:!1,sms:0,isSms:!1,sysnotice:0,isSysnotice:!1,wechat:0,isWechat:!1},videoNum:[5],taskTimeDatas:[{code:1,value:"每天"},{code:2,value:"法定工作日（跳过节假日）"},{code:3,value:"周一至周五"},{code:4,value:"法定节假日（跳过工作日）"}],queryParams:{},timeStr:"",timeCode:void 0}},watch:{timeStr:function(){}},created:function(){var t=this;Object(l["zc"])({remindType:"taskRemind"}).then((function(e){if(0==e.code&&e.data.length>0&&(t.taskData=e.data[0],1==t.taskData.onoff?t.$set(t.taskData,"isOpen",!0):t.$set(t.taskData,"isOpen",!1),1==t.taskData.sms?t.$set(t.taskData,"isSms",!0):t.$set(t.taskData,"isSms",!1),1==t.taskData.sysnotice?t.$set(t.taskData,"isSysnotice",!0):t.$set(t.taskData,"isSysnotice",!1),1==t.taskData.wechat?t.$set(t.taskData,"isWechat",!0):t.$set(t.taskData,"isWechat",!1),t.taskData.cron1&&t.taskData.cron1.length>0)){var a=t.taskData.cron1.split(",");t.timeCode=parseInt(a[0]),t.timeStr=a[1]}})),Object(l["zc"])({remindType:"textRemind"}).then((function(e){if(0==e.code&&e.data.length>0&&(t.textData=e.data[0],1==t.textData.onoff?t.$set(t.textData,"isOpen",!0):t.$set(t.textData,"isOpen",!1),1==t.textData.sms?t.$set(t.textData,"isSms",!0):t.$set(t.textData,"isSms",!1),1==t.textData.sysnotice?t.$set(t.textData,"isSysnotice",!0):t.$set(t.textData,"isSysnotice",!1),1==t.textData.wechat?t.$set(t.textData,"isWechat",!0):t.$set(t.textData,"isWechat",!1),t.textData.afterRemind&&t.textData.afterRemind.length>0)){t.textNum=[];for(var a=t.textData.afterRemind.split(","),s=0;s<a.length;s++)t.textNum.push(a[s])}})),Object(l["zc"])({remindType:"videoRemind"}).then((function(e){if(0==e.code&&e.data.length>0&&(t.videoData=e.data[0],1==t.videoData.onoff?t.$set(t.videoData,"isOpen",!0):t.$set(t.videoData,"isOpen",!1),1==t.videoData.sms?t.$set(t.videoData,"isSms",!0):t.$set(t.videoData,"isSms",!1),1==t.videoData.sysnotice?t.$set(t.videoData,"isSysnotice",!0):t.$set(t.videoData,"isSysnotice",!1),1==t.videoData.wechat?t.$set(t.videoData,"isWechat",!0):t.$set(t.videoData,"isWechat",!1),t.videoData.beforeRemind&&t.videoData.beforeRemind.length>0)){t.videoNum=[];for(var a=t.videoData.beforeRemind.split(","),s=0;s<a.length;s++)t.videoNum.push(a[s])}}))},methods:{moment:n.a,callback:function(t){},formatDateFull:function(t){t=new Date(t);var e=t.getFullYear(),a=t.getMonth()+1,s=t.getDate(),i=t.getHours(),o=t.getMinutes(),n=t.getSeconds();return a<10&&(a="0"+a),s<10&&(s="0"+s),i<10&&(i="0"+i),o<10&&(o="0"+o),n<10&&(n="0"+n),"".concat(e,"-").concat(a,"-").concat(s," ").concat(i,":").concat(o,":").concat(n)},onTaskIsOpen:function(){this.taskData.isOpen=!this.taskData.isOpen},updateTaskData:function(){var t=this;if(this.taskData.onoff=this.taskData.isOpen?1:0,this.taskData.sms=this.taskData.isSms?1:0,this.taskData.sysnotice=this.taskData.isSysnotice?1:0,this.taskData.wechat=this.taskData.isWechat?1:0,0!=this.timeCode){this.taskData.cron1=this.timeCode+","+this.timeStr;var e=JSON.parse(JSON.stringify(this.taskData));delete e.isOpen,delete e.isSms,delete e.isSysnotice,delete e.isWechat,Object(l["dd"])(e).then((function(e){0==e.code?t.$message.success("更新成功!"):t.$message.error("更新失败："+e.message)}))}else this.$message.error("请选择提醒时间")},timeChangeStart:function(t,e){this.timeStr=e},onTextIsOpen:function(){this.textData.isOpen=!this.textData.isOpen},goAddText:function(){this.textNum.push(1)},deleteTextItem:function(t){this.textNum.length<=1?this.$message.error("至少添加一个时间提醒"):this.textNum.splice(t,1)},updateTextData:function(){var t=this;if(this.textData.onoff=this.textData.isOpen?1:0,this.textData.sms=this.textData.isSms?1:0,this.textData.sysnotice=this.textData.isSysnotice?1:0,this.textData.wechat=this.textData.isWechat?1:0,0!=this.textNum.length){for(var e="",a=0;a<this.textNum.length;a++)a!=this.textNum.length-1?e=e+this.textNum[a]+",":e+=this.textNum[a];this.textData.afterRemind=e;var s=JSON.parse(JSON.stringify(this.textData));delete s.isOpen,delete s.isSms,delete s.isSysnotice,delete s.isWechat,Object(l["dd"])(s).then((function(e){0==e.code?t.$message.success("更新成功!"):t.$message.error("更新失败："+e.message)}))}else this.$message.error("请填写提醒时间")},onVideoIsOpen:function(){this.videoData.isOpen=!this.videoData.isOpen},goAddVideo:function(){this.videoNum.push(1)},deleteVideoItem:function(t){this.videoNum.length<=1?this.$message.error("至少添加一个时间提醒"):this.videoNum.splice(t,1)},updateVideoData:function(){var t=this;if(this.videoData.onoff=this.videoData.isOpen?1:0,this.videoData.sms=this.videoData.isSms?1:0,this.videoData.sysnotice=this.videoData.isSysnotice?1:0,this.videoData.wechat=this.videoData.isWechat?1:0,0!=this.videoNum.length){for(var e="",a=0;a<this.videoNum.length;a++)a!=this.videoNum.length-1?e=e+this.videoNum[a]+",":e+=this.videoNum[a];this.videoData.beforeRemind=e;var s=JSON.parse(JSON.stringify(this.videoData));delete s.isOpen,delete s.isSms,delete s.isSysnotice,delete s.isWechat,Object(l["dd"])(s).then((function(e){0==e.code?t.$message.success("更新成功!"):t.$message.error("更新失败："+e.message)}))}else this.$message.error("请填写提醒时间")}}},m=r,d=(a("c714f"),a("2877")),p=Object(d["a"])(m,s,i,!1,null,null,null);e["default"]=p.exports},c714f:function(t,e,a){"use strict";a("c8fea")},c8fea:function(t,e,a){}}]);
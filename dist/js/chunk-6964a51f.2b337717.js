(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6964a51f","chunk-6f6ce708"],{1255:function(e,t,a){"use strict";a("93f0")},"1d89":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"div-yiji-todo"},[a("a-card",{staticClass:"card-right",attrs:{bordered:!1}},[a("s-table",{ref:"table",attrs:{size:"default",columns:e.columns,data:e.loadData,alert:!0,rowKey:function(e){return e.code}},scopedSlots:e._u([{key:"action",fn:function(t,n){return a("span",{},[a("a",{on:{click:function(t){return e.$refs.reviewDetail.edit(n)}}},[e._v("点击查看")])])}},{key:"update",fn:function(t,n){return a("span",{},[0==n.status?a("div",[a("a-popconfirm",{attrs:{title:"是否审核通过？","ok-text":"确定","cancel-text":"取消"},on:{confirm:function(t){return e.goUpdate(n,!0)}}},[a("a",[e._v("通过")])]),a("a-divider",{attrs:{type:"vertical"}}),a("a-popconfirm",{attrs:{title:"是否审核不通过？","ok-text":"确定","cancel-text":"取消"},on:{confirm:function(t){return e.goUpdate(n,!1)}}},[a("a",[e._v("拒绝")])])],1):e._e(),1==n.status?a("span",[e._v(e._s(n.statusText))]):a("span",{staticStyle:{color:"red"}},[e._v(e._s(n.statusText))])])}}])}),a("review-detail",{ref:"reviewDetail",on:{ok:e.handleOk}})],1)],1)},r=[],i=(a("4d63"),a("ac1f"),a("25f0"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("5319"),a("2af9")),s=a("4cab"),o=a("d61a"),c=a("ca00"),d={components:{STable:i["s"],reviewDetail:o["default"]},data:function(){var e=this;return{statusData:[{code:-1,value:"全部"},{code:1,value:"待支付"},{code:2,value:"未配送"},{code:3,value:"支付中"},{code:4,value:"待收货"},{code:5,value:"订单取消"},{code:7,value:"已配送"}],columns:[{title:"编号",dataIndex:"xh"},{title:"就诊人",dataIndex:"patientName"},{title:"申请时间",dataIndex:"applyTime"},{title:"上传资料",scopedSlots:{customRender:"action"}},{title:"操作",scopedSlots:{customRender:"update"},width:"300px"}],createValue:[],loadData:function(t){var a=JSON.parse(JSON.stringify(Object.assign(t,e.queryParams)));return-1==a.status&&(a.status=""),Object(s["Ab"])(a).then((function(t){for(var a=0;a<t.data.rows.length;a++)e.$set(t.data.rows[a],"xh",a+1+(t.data.pageNo-1)*t.data.pageSize),e.$set(t.data.rows[a],"medRecordImagesArr",JSON.parse(t.data.rows[a].medRecordImages)),1==t.data.rows[a].status?e.$set(t.data.rows[a],"statusText","已通过"):2==t.data.rows[a].status&&e.$set(t.data.rows[a],"statusText","已拒绝");return t.data}))},queryParams:{},queryParamsOrigin:{orderId:"",preNo:"",status:-1,startTime:"",endTime:""}}},created:function(){},methods:{resetQuery:function(){this.queryParams=JSON.parse(JSON.stringify(this.queryParamsOrigin)),this.createValue=[]},onChange:function(e,t){this.createValue=e,this.queryParams.startTime=t[0],this.queryParams.endTime=t[1]},exportExcel:function(){var e;"test"==c["b"]?e="http://192.168.1.122:8124/excel/exportOrders":"show"==c["b"]?e="http://172.31.160.11:8124/excel/exportOrders":"online"==c["b"]&&(e="http://manager.mclouds.org.cn:8088/api/health-api/excel/exportOrders"),this.downloadUrl(e,"")},downloadUrl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"未知文件",a=document.createElement("a");a.style.display="none",a.setAttribute("target","_blank"),t&&a.setAttribute("download",t),a.href=e,document.body.appendChild(a),a.click(),document.body.removeChild(a)},downloadfile:function(e){var t=new Blob([e.data],{type:"application/octet-stream;charset=UTF-8"}),a=e.headers["content-disposition"],n=new RegExp("filename=([^;]+\\.[^\\.;]+);*"),r=n.exec(a),i=r[1],s=document.createElement("a"),o=window.URL.createObjectURL(t),c=/^["](.*)["]$/g;s.style.display="none",s.href=o,s.download=decodeURI(i.replace(c,"$1")),document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(o)},goUpdate:function(e,t){var a=this,n={id:e.id,status:t?1:2};Object(s["h"])(n).then((function(e){e.success?(a.$message.success("操作成功"),a.$refs.table.refresh()):a.$message.error("操作失败："+e.message)}))},handleOk:function(){this.$refs.table.refresh()}}},l=d,u=(a("1255"),a("2877")),f=Object(u["a"])(l,n,r,!1,null,null,null);t["default"]=f.exports},"1da1":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("d3b7");function n(e,t,a,n,r,i,s){try{var o=e[i](s),c=o.value}catch(d){return void a(d)}o.done?t(c):Promise.resolve(c).then(n,r)}function r(e){return function(){var t=this,a=arguments;return new Promise((function(r,i){var s=e.apply(t,a);function o(e){n(s,r,i,o,c,"next",e)}function c(e){n(s,r,i,o,c,"throw",e)}o(void 0)}))}}},"50ac":function(e,t,a){"use strict";a("e544")},"93f0":function(e,t,a){},d61a:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"就诊人上传资料",width:900,visible:e.visible,confirmLoading:e.confirmLoading,footer:null},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("div",{staticClass:"div-order-detail"},[a("div",{staticClass:"div-line-wrap"},[a("span",{staticClass:"span-item-name"},[e._v("就诊人 :")]),a("span",{staticClass:"span-item-value"},[e._v(e._s(e.record.patientName)+" ")])]),a("div",{staticClass:"div-line-wrap"},[a("span",{staticClass:"span-item-name"},[e._v(" 联系方式 :")]),a("span",{staticClass:"span-item-value"},[e._v(e._s(e.record.phone)+" ")])]),a("div",{staticClass:"clearfix",staticStyle:{"margin-top":"20px"}},[a("a-upload",{attrs:{disabled:"",action:e.actionUrl,multiple:!0,"list-type":"picture-card","file-list":e.fileListBanner},on:{preview:e.handlePreviewBanner,change:e.handleChangeBanner}},[e._e()]),a("a-modal",{attrs:{visible:e.previewVisibleBanner,footer:null},on:{cancel:e.handleCancelBanner}},[a("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:e.previewImageBanner}})])],1)])])],1)},r=[],i=a("1da1"),s=(a("d3b7"),a("96cf"),a("4cab"),{data:function(){return{visible:!1,confirmLoading:!1,actionUrl:"/api/content-api/fileUpload/uploadImgFile",record:{},previewVisibleBanner:!1,previewImageBanner:"",fileListBanner:[]}},methods:{edit:function(e){this.record={},this.fileListBanner=[],this.record=e,this.visible=!0;for(var t=0;t<this.record.medRecordImagesArr.length;t++)this.fileListBanner.push({uid:0-t+"",name:"Banner"+t,status:"done",url:this.record.medRecordImagesArr[t]})},handleCancelBanner:function(){this.previewVisibleBanner=!1},handlePreviewBanner:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.url||e.preview){a.next=4;break}return a.next=3,t.getBase64(e.originFileObj);case 3:e.preview=a.sent;case 4:t.previewImageBanner=e.url||e.preview,t.previewVisibleBanner=!0;case 6:case"end":return a.stop()}}),a)})))()},handleChangeBanner:function(e){var t=e.fileList;this.fileListBanner=t},getBase64:function(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))},handleSubmit:function(){},handleCancel:function(){this.visible=!1}}}),o=s,c=(a("50ac"),a("2877")),d=Object(c["a"])(o,n,r,!1,null,null,null);t["default"]=d.exports},e544:function(e,t,a){}}]);
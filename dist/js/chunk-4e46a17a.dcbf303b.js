(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e46a17a","chunk-2d215cdd","chunk-2d208e07"],{5494:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"div-inquiry-text"},[a("a-card",{staticClass:"card-right",attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:3,sm:24}},[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.goAdd()}}},[e._v("新增内容")])],1),a("a-col",{attrs:{md:7,sm:24}},[a("a-form-item",{attrs:{label:"内容标题"}},[a("a-input",{attrs:{"allow-clear":"",placeholder:"请输入内容标题"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$refs.table.refresh(!0)}},model:{value:e.queryParams.keyWord,callback:function(t){e.$set(e.queryParams,"keyWord",t)},expression:"queryParams.keyWord"}})],1)],1),a("a-col",{attrs:{md:6,sm:24}},[a("a-form-item",{attrs:{label:"类别"}},[a("a-select",{attrs:{"allow-clear":"",placeholder:"请选择类别"},model:{value:e.queryParams.knowledgeType,callback:function(t){e.$set(e.queryParams,"knowledgeType",t)},expression:"queryParams.knowledgeType"}},e._l(e.statusData,(function(t,r){return a("a-select-option",{key:r,attrs:{value:t.code}},[e._v(e._s(t.value))])})),1)],1)],1),a("a-col",{attrs:{md:3,sm:24}},[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.$refs.table.refresh(!0)}}},[e._v("查询")]),e._e()],1)],1)],1)],1),a("s-table",{ref:"table",attrs:{size:"default",columns:e.columns,data:e.loadData,alert:!0,rowKey:function(e){return e.code}},scopedSlots:e._u([{key:"action",fn:function(t,r){return a("span",{},[a("a",{on:{click:function(t){return e.goChange(r)}}},[e._v("编辑")]),a("a-divider",{attrs:{type:"vertical"}}),a("a-popconfirm",{attrs:{placement:"topRight",title:"确认删除？"},on:{confirm:function(){return e.delKnowledge(r)}}},[a("a",[e._v("删除")])])],1)}}])}),a("add-form",{ref:"addForm",on:{ok:e.handleOk}}),a("edit-form",{ref:"editForm",on:{ok:e.handleOk}})],1)],1)},n=[],o=(a("99af"),a("2af9")),s=a("4cab"),l=a("c082"),i=a("a750"),c={components:{STable:o["s"],addForm:l["default"],editForm:i["default"]},data:function(){var e=this;return{statusData:[],queryParams:{knowledgeType:void 0,keyWord:void 0},columns:[{title:"序号",dataIndex:"xh"},{title:"内容标题",dataIndex:"title"},{title:"类别",dataIndex:"typeName"},{title:"创建人",dataIndex:"creator"},{title:"创建时间",dataIndex:"updateTimeOut"},{title:"操作",width:"150px",dataIndex:"action",scopedSlots:{customRender:"action"}}],loadData:function(t){return"1"==e.queryParams.knowledgeType&&(e.queryParams.knowledgeType=""),Object(s["xc"])(Object.assign(t,e.queryParams)).then((function(t){for(var a=0;a<t.data.rows.length;a++)e.$set(t.data.rows[a],"xh",a+1+(t.data.pageNo-1)*t.data.pageSize),e.$set(t.data.rows[a],"updateTimeOut",e.formatDate(t.data.rows[a].updateTime));return t.data}))}}},created:function(){var e=this;Object(s["ic"])("KNOWLEDGE_TYPE").then((function(t){0==t.code&&t.data&&t.data.length>0&&(e.statusData=t.data,e.statusData.unshift({code:"1",value:"全部"}))}))},methods:{goAdd:function(){this.$router.push({name:"wise_robot_add",params:null})},goChange:function(e){this.$router.push({name:"wise_robot_edit",query:{recordStr:JSON.stringify(e)}})},formatDate:function(e){e=new Date(e);var t=e.getFullYear(),a=e.getMonth()+1,r=e.getDate();return a<10&&(a="0"+a),r<10&&(r="0"+r),"".concat(t,"-").concat(a,"-").concat(r)},formatDateFull:function(e){e=new Date(e);var t=e.getFullYear(),a=e.getMonth()+1,r=e.getDate(),n=e.getHours(),o=e.getMinutes(),s=e.getSeconds();return a<10&&(a="0"+a),r<10&&(r="0"+r),n<10&&(n="0"+n),o<10&&(o="0"+o),s<10&&(s="0"+s),"".concat(t,"-").concat(a,"-").concat(r," ").concat(n,":").concat(o,":").concat(s)},delKnowledge:function(e){var t=this;Object(s["F"])({id:e.id}).then((function(e){e.success?(t.$message.success("删除成功"),t.$refs.table.refresh()):t.$message.error("删除失败："+e.message)})).catch((function(e){t.$message.error("删除错误："+e.message)}))},getClass:function(e){return 1==e?"span-red":2==e?"span-blue":3==e?"span-red":4==e?"span-blue":5==e?"span-gray":void 0},handleOk:function(){this.$refs.table.refresh()}}},d=c,u=(a("bd4f"),a("2877")),m=Object(u["a"])(d,r,n,!1,null,null,null);t["default"]=m.exports},"74cd":function(e,t,a){},a750:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"编辑问答",width:900,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{attrs:{label:"所属类别",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["knowledgeType",{rules:[{required:!0,message:"请选择类别"}]}],expression:"['knowledgeType', { rules: [{ required: true, message: '请选择类别' }] }]"}],attrs:{"allow-clear":"",placeholder:"请选择类别"}},e._l(e.statusData,(function(t,r){return a("a-select-option",{key:r,attrs:{value:t.code}},[e._v(e._s(t.value))])})),1)],1),a("a-form-item",{attrs:{label:"内容标题",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["title",{rules:[{required:!0,message:"请输入内容标题！"}]}],expression:"['title', { rules: [{ required: true, message: '请输入内容标题！' }] }]"}],attrs:{placeholder:"请输入内容标题"}})],1),a("a-form-item",{attrs:{label:"内容详情",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["content",{rules:[{required:!0,message:"请输入内容详情！"}]}],expression:"['content', { rules: [{ required: true, message: '请输入内容详情！' }] }]"}],attrs:{placeholder:"请输入内容详情"}})],1)],1)],1)],1)},n=[],o=(a("7db0"),a("d3b7"),a("4cab")),s={data:function(){return{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:15}},statusData:[],visible:!1,record:{},confirmLoading:!1,form:this.$form.createForm(this)}},created:function(){var e=this;Object(o["ic"])("KNOWLEDGE_TYPE").then((function(t){0==t.code&&t.data&&t.data.length>0&&(e.statusData=t.data)}))},methods:{edit:function(e){var t=this;this.visible=!0,this.record={},this.record=e,setTimeout((function(){t.form.setFieldsValue({knowledgeType:e.knowledgeType,title:e.title,content:e.content})}),100)},handleSubmit:function(){var e=this,t=this.form.validateFields;this.confirmLoading=!0,t((function(t,a){if(t)e.confirmLoading=!1;else{var r=e.statusData.find((function(e){return e.code==a.knowledgeType}));e.record.knowledgeType=a.knowledgeType,e.record.title=a.title,e.record.content=a.content,e.record.typeName=r.value,delete e.record.updateTimeOut,delete e.record.xh,Object(o["Sc"])(e.record).then((function(t){t.success?(e.$message.success("编辑成功"),e.visible=!1,e.confirmLoading=!1,e.$emit("ok",a),e.form.resetFields()):e.$message.error("编辑失败："+t.message)})).finally((function(t){e.confirmLoading=!1}))}}))},handleCancel:function(){this.form.resetFields(),this.visible=!1}}},l=s,i=a("2877"),c=Object(i["a"])(l,r,n,!1,null,null,null);t["default"]=c.exports},bd4f:function(e,t,a){"use strict";a("74cd")},c082:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"新增问答",width:900,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{attrs:{label:"所属类别",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["knowledgeType",{rules:[{required:!0,message:"请选择类别"}]}],expression:"['knowledgeType', { rules: [{ required: true, message: '请选择类别' }] }]"}],attrs:{"allow-clear":"",placeholder:"请选择类别"}},e._l(e.statusData,(function(t,r){return a("a-select-option",{key:r,attrs:{value:t.code}},[e._v(e._s(t.value))])})),1)],1),a("a-form-item",{attrs:{label:"内容标题",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["title",{rules:[{required:!0,message:"请输入内容标题！"}]}],expression:"['title', { rules: [{ required: true, message: '请输入内容标题！' }] }]"}],attrs:{placeholder:"请输入内容标题"}})],1),a("a-form-item",{attrs:{label:"内容详情",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["content",{rules:[{required:!0,message:"请输入内容详情！"}]}],expression:"['content', { rules: [{ required: true, message: '请输入内容详情！' }] }]"}],attrs:{placeholder:"请输入内容详情"}})],1)],1)],1)],1)},n=[],o=(a("7db0"),a("d3b7"),a("4cab")),s=a("9fb0"),l=a("2b0e"),i={data:function(){return{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:15}},visible:!1,statusData:[],confirmLoading:!1,form:this.$form.createForm(this)}},created:function(){var e=this;Object(o["ic"])("KNOWLEDGE_TYPE").then((function(t){0==t.code&&t.data&&t.data.length>0&&(e.statusData=t.data)}))},methods:{add:function(){this.visible=!0},handleSubmit:function(){var e=this,t=this.form.validateFields;this.confirmLoading=!0,t((function(t,a){if(t)e.confirmLoading=!1;else{var r=e.statusData.find((function(e){return e.code==a.knowledgeType}));e.$set(a,"typeName",r.value);var n=l["a"].ls.get(s["o"]);e.$set(a,"creator",n.userName),Object(o["Sc"])(a).then((function(t){t.success?(e.$message.success("新增成功"),e.visible=!1,e.confirmLoading=!1,e.$emit("ok",a),e.form.resetFields()):e.$message.error("新增失败："+t.message)})).finally((function(t){e.confirmLoading=!1}))}}))},handleCancel:function(){this.form.resetFields(),this.visible=!1}}},c=i,d=a("2877"),u=Object(d["a"])(c,r,n,!1,null,null,null);t["default"]=u.exports}}]);
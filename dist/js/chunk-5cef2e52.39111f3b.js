(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5cef2e52","chunk-2d21a33f","chunk-2d0d74a7"],{4347:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[e.hasPerm("sysPos:page")?n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:48}},[n("a-col",{attrs:{md:3,sm:24}},[n("span",{staticClass:"table-page-search-submitButtons",style:e.advanced&&{float:"right",overflow:"hidden"}||{}},[n("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.$refs.addForm.add()}}},[e._v("新增服务项")])],1)])],1)],1)],1):e._e(),n("a-table",{ref:"table",attrs:{pagination:!1,size:"default",columns:e.columns,"data-source":e.loadData,alert:!0,rowKey:function(e){return e.code}},scopedSlots:e._u([{key:"action",fn:function(t,a){return n("span",{},[n("a",{on:{click:function(t){return e.$refs.editForm.edit(a)}}},[e._v("修改")]),e._e(),e._e()],1)}},{key:"ifOnline",fn:function(t,a){return n("span",{},[n("a-popconfirm",{attrs:{title:a.isOnlineText,"ok-text":"确定","cancel-text":"取消"},on:{confirm:function(t){return e.goOnline(a)}}},[n("a-switch",{attrs:{checked:a.isOnline}})],1)],1)}}])}),n("add-form",{ref:"addForm",on:{ok:e.handleOk}}),n("edit-form",{ref:"editForm",on:{ok:e.handleOk}})],1)},i=[],s=(n("d3b7"),n("159b"),n("2af9")),o=n("4cab"),r=n("bb09"),c=n("75d7"),l={components:{STable:s["s"],addForm:r["default"],editForm:c["default"]},data:function(){return{advanced:!1,queryParam:{type:"Check"},columns:[{title:"序号",dataIndex:"xh"},{title:"服务项名称",dataIndex:"value"},{title:"是否开启",dataIndex:"ifOnline",scopedSlots:{customRender:"ifOnline"}},{title:"操作",width:"150px",dataIndex:"action",scopedSlots:{customRender:"action"}}],loadData:[],selectedRowKeys:[],selectedRows:[]}},created:function(){this.getListData()},methods:{getListData:function(){var e=this;Object(o["oc"])("GOODS_SERVICE_TYPE").then((function(t){0==t.code?(t.data.forEach((function(t,n){e.$set(t,"xh",n+1),t.remark&&1==t.remark?(e.$set(t,"isOnline",!1),e.$set(t,"isOnlineText","确定开启？")):(e.$set(t,"isOnline",!0),e.$set(t,"isOnlineText","确定关闭？"))})),e.loadData=t.data):e.$message.error(t.message)}))},deletePlan:function(e){var t=this;Object(o["u"])(e).then((function(e){0==e.code?(t.$message.success("删除成功"),t.handleOk()):t.$message.error("删除失败："+e.message)}))},goOnline:function(e){var t=this;e.remark&&1==e.remark?e.remark=0:e.remark=1,Object(o["Wc"])(e).then((function(n){0==n.code?(t.$message.success("操作成功"),e.isOnline=!e.isOnline,setTimeout((function(){e.isOnlineText=e.isOnline?"确定关闭？":"确定开启？"}),200)):t.$message.error(n.message)}))},handleOk:function(){this.getListData()}}},d=l,u=(n("f020"),n("2877")),f=Object(u["a"])(d,a,i,!1,null,null,null);t["default"]=f.exports},"75d7":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"修改服务项",width:900,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[n("a-input",{attrs:{"allow-clear":"",placeholder:"请输入服务项名称 "},model:{value:e.record.value,callback:function(t){e.$set(e.record,"value",t)},expression:"record.value"}})],1)},i=[],s=n("4cab"),o={data:function(){return{index:-1,record:{},confirmLoading:!1,visible:!1}},methods:{edit:function(e){this.visible=!0,this.record=JSON.parse(JSON.stringify(e))},handleSubmit:function(){var e=this;this.record.value?(this.confirmLoading=!0,Object(s["Wc"])(this.record).then((function(t){0==t.code?setTimeout((function(){e.confirmLoading=!1,e.$message.success("修改成功"),e.visible=!1,e.$emit("ok")}),1200):(e.confirmLoading=!1,e.$message.error("修改失败："+t.message))}))):this.$message.error("请输入服务项名称")},handleCancel:function(){this.visible=!1}}},r=o,c=n("2877"),l=Object(c["a"])(r,a,i,!1,null,null,null);t["default"]=l.exports},"795c":function(e,t,n){},bb09:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"新增服务项",width:900,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[n("a-input",{attrs:{"allow-clear":"",placeholder:"请输入服务项名称 "},model:{value:e.jianchaName,callback:function(t){e.jianchaName=t},expression:"jianchaName"}})],1)},i=[],s=n("4cab"),o={data:function(){return{jianchaName:"",index:-1,confirmLoading:!1,visible:!1}},methods:{add:function(e){this.jianchaName="",this.visible=!0},handleSubmit:function(){var e=this;if(this.jianchaName){var t={codeGroup:"GOODS_SERVICE_TYPE",value:this.jianchaName};this.confirmLoading=!0,Object(s["Wc"])(t).then((function(t){0==t.code?setTimeout((function(){e.confirmLoading=!1,e.$message.success("新增成功"),e.visible=!1,e.$emit("ok")}),1200):(e.confirmLoading=!1,e.$message.error("新增失败："+t.message))}))}else this.$message.error("请输入服务项名称！")},handleCancel:function(){this.visible=!1}}},r=o,c=n("2877"),l=Object(c["a"])(r,a,i,!1,null,null,null);t["default"]=l.exports},f020:function(e,t,n){"use strict";n("795c")}}]);
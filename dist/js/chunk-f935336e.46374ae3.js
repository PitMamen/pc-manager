(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f935336e","chunk-3bce0f77","chunk-75b4929b","chunk-483e2d78"],{"09a4":function(t,e,a){"use strict";a("66ea")},1758:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{title:t.titleTop,width:1e3,height:650,visible:t.visible,confirmLoading:t.confirmLoading},on:{ok:t.handleSubmit,cancel:t.handleCancel}},[a("a-card",{staticClass:"card-top-pac",attrs:{bordered:!1}},[a("div",{staticClass:"table-page-wrapper",staticStyle:{"margin-top":"-2%"}},[a("div",{staticClass:"div-line-wrap"})]),a("s-table",{ref:"table",staticStyle:{"margin-top":"2%"},attrs:{size:"default",pagination:!1,data:t.loadData,columns:t.columns,alert:!0,rowKey:function(t){return t.code}},scopedSlots:t._u([{key:"statuas",fn:function(e,s){return a("span",{},[a("span",[t._v(t._s(s.Status))])])}}])})],1)],1)},i=[],n=(a("d3b7"),a("159b"),a("a4d3"),a("e01a"),a("4cab")),r=a("2af9"),l={components:{STable:r["s"]},data:function(){var t=this;return{record:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:15}},visible:!1,tenantId:"",detailList:[],form:this.$form.createForm(this),titleTop:"初始化记录",confirmLoading:!1,queryParamsData:{beginDate:"",endDate:"",execDept:[],flag:"",messageType:"",planId:"",statType:""},columns:[{title:"应用名称",dataIndex:"taskName"},{title:"开始时间",dataIndex:"beginTime"},{title:"结束时间",dataIndex:"endTime"},{title:"状态",dataIndex:"status",scopedSlots:{customRender:"statuas"}},{title:"描述",dataIndex:"desc"}],loadData:function(e){return t.confirmLoading=!0,Object(n["Oc"])({tenantId:t.tenantId}).then((function(e){var a={pageNo:1,pageSize:10,totalRows:1,totalPage:1,rows:e.data};return 0==e.code&&e.data.length>0&&a.rows.forEach((function(e,a){t.$set(e,"Status",null!=e.status?e.status.description:"")})),a})).finally((function(e){t.confirmLoading=!1}))}}},methods:{initrecord:function(t){var e=this;this.visible=!0,this.reset(),this.tenantId=t.tenantId,this.titleTop=t.tenantName+"初始化记录",this.$nextTick((function(){e.$refs.table.refresh()}))},handleCancel:function(){this.form.resetFields(),this.visible=!1},handleSubmit:function(){this.visible=!1},reset:function(){this.tenantId=""}}},o=l,c=(a("c714"),a("2877")),p=Object(c["a"])(o,s,i,!1,null,null,null);e["default"]=p.exports},"17a7":function(t,e,a){},"1ae8":function(t,e,a){"use strict";a("e928")},"1cc6":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{title:t.title,width:700,height:450,visible:t.visible,confirmLoading:t.confirmLoading},on:{ok:t.handleSubmit,cancel:t.handleCancel}},[a("div",{staticClass:"div-service-user"},[a("div",{staticClass:"div-totalleft",staticStyle:{"margin-top":"-12px"}},[a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px"}},[a("span",{staticStyle:{"margin-top":"5px"}},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 租户编码:")]),a("a-input",{staticStyle:{width:"200px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$refs.table.refresh(!0)},search:function(e){return t.$refs.table.refresh(!0)}},model:{value:t.queryParams.tenantCode,callback:function(e){t.$set(t.queryParams,"tenantCode",e)},expression:"queryParams.tenantCode"}})],1),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 租户名称:")]),a("a-input",{staticStyle:{width:"200px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$refs.table.refresh(!0)},search:function(e){return t.$refs.table.refresh(!0)}},model:{value:t.queryParams.tenantName,callback:function(e){t.$set(t.queryParams,"tenantName",e)},expression:"queryParams.tenantName"}})],1),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"7px"}},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 到期时间:")]),a("a-date-picker",{staticStyle:{"margin-top":"5px","margin-left":"5px",height:"28px",width:"200px"},attrs:{format:"YYYY-MM-DD"},model:{value:t.queryParams.expireDate,callback:function(e){t.$set(t.queryParams,"expireDate",e)},expression:"queryParams.expireDate"}})],1),a("div",{staticClass:"div-title"},[a("div",{staticClass:"div-line-blue"}),a("span",{staticClass:"span-title"},[t._v("租户管理员信息")])]),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 登录账号:")]),a("a-input",{staticStyle:{width:"200px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$refs.table.refresh(!0)},search:function(e){return t.$refs.table.refresh(!0)}},model:{value:t.queryParams.adminAccount,callback:function(e){t.$set(t.queryParams,"adminAccount",e)},expression:"queryParams.adminAccount"}})],1),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 管理员姓名:")]),a("a-input",{staticStyle:{width:"188px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$refs.table.refresh(!0)},search:function(e){return t.$refs.table.refresh(!0)}},model:{value:t.queryParams.adminName,callback:function(e){t.$set(t.queryParams,"adminName",e)},expression:"queryParams.adminName"}})],1),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 联系电话:")]),a("a-input",{staticStyle:{width:"200px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$refs.table.refresh(!0)},search:function(e){return t.$refs.table.refresh(!0)}},model:{value:t.queryParams.phone,callback:function(e){t.$set(t.queryParams,"phone",e)},expression:"queryParams.phone"}})],1),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 邮箱地址:")]),a("a-input",{staticStyle:{width:"200px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$refs.table.refresh(!0)},search:function(e){return t.$refs.table.refresh(!0)}},model:{value:t.queryParams.email,callback:function(e){t.$set(t.queryParams,"email",e)},expression:"queryParams.email"}})],1),a("div",{staticClass:"div-title"},[a("div",{staticClass:"div-line-blue"}),a("span",{staticClass:"span-title"},[t._v("初始化机构")])]),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 机构编码:")]),a("a-input",{staticStyle:{width:"200px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$refs.table.refresh(!0)},search:function(e){return t.$refs.table.refresh(!0)}},model:{value:t.queryParams.hospitalCode,callback:function(e){t.$set(t.queryParams,"hospitalCode",e)},expression:"queryParams.hospitalCode"}})],1),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 机构名称:")]),a("a-input",{staticStyle:{width:"200px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$refs.table.refresh(!0)},search:function(e){return t.$refs.table.refresh(!0)}},model:{value:t.queryParams.hospitalName,callback:function(e){t.$set(t.queryParams,"hospitalName",e)},expression:"queryParams.hospitalName"}})],1)]),a("div",{staticClass:"card-right-user",staticStyle:{"overflow-y":"auto",height:"450px"}},t._l(t.appListOut,(function(e,s){return a("div",{key:s,staticClass:"div-total1",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"div-line-wrap",staticStyle:{"margin-left":"20%","margin-top":"10px"}},[a("span",{staticClass:"span-item-value"},[t._v(t._s(e.applicationName)+" ")])]),a("a-checkbox",{staticStyle:{"margin-bottom":"15px","margin-left":"10%"},on:{change:function(a){return t.selectChange(e)}},model:{value:e.isChecked,callback:function(a){t.$set(e,"isChecked",a)},expression:"item.isChecked"}}),a("span",{staticClass:"span-item-name",staticStyle:{"margin-left":"5%","font-size":"10px",color:"#d9d9d9"}},[t._v(" "+t._s(e.remark))])],1)})),0)])])},i=[],n=a("ade3"),r=(a("d3b7"),a("159b"),a("caad"),a("2532"),a("99af"),a("a434"),a("c1df")),l=a.n(r),o=a("4cab"),c=a("2af9"),p=(a("9fb0"),a("ca00"),{components:{STable:c["s"]},data:function(){var t;return{userId:"",appList:[],appListOut:[],msgData:[],record:{},tenantId:"",queryParams:(t={adminAccount:"",adminName:"",email:"",expireDate:{},hospitalName:"",hospitalCode:"",phone:"",tenantName:"",tenantCode:""},Object(n["a"])(t,"hospitalCode",""),Object(n["a"])(t,"tenantId",""),Object(n["a"])(t,"applicationIds",[]),t),queryParamsApp:{applicationName:"",applicationType:"",status:1},visitTypeList:[{code:2,value:"微信消息"},{code:3,value:"短信消息"}],labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:15}},visible:!1,confirmLoading:!1,form:this.$form.createForm(this),title:"修改租户"}},watch:{timeStr:function(){}},methods:{moment:l.a,modify:function(t){this.visible=!0,this.reset(),this.tenantId=t.tenantId,this.queryTenantDetailOut()},queryTenantDetailOut:function(){var t=this;this.confirmLoading=!0,Object(o["Nc"])({tenantId:this.tenantId}).then((function(e){0==e.code&&e.success&&(t.queryParams.applicationIds=e.data.applicationIds,t.queryParams.tenantCode=e.data.tenantCode,t.queryParams.tenantName=e.data.tenantName,t.queryParams.expireDate=l()(e.data.expireDate,"YYYY-MM-DD"),t.queryParams.adminAccount=e.data.adminAccount,t.queryParams.adminName=e.data.adminName,t.queryParams.phone=e.data.phone,t.queryParams.email=e.data.email,t.queryParams.hospitalCode=e.data.hospitalCode,t.queryParams.hospitalName=e.data.tenantName,t.queryParams.tenantId=t.tenantId,t.getApplicationlistOut())})).finally((function(e){t.confirmLoading=!1}))},getApplicationlistOut:function(){var t=this;this.confirmLoading=!0,Object(o["Y"])(this.queryParamsApp).then((function(e){0==e.code&&(t.appList=e.data,t.appListOut=JSON.parse(JSON.stringify(t.appList)),t.appListOut.forEach((function(e,a){t.queryParams.applicationIds.includes(e.id)?t.$set(e,"isChecked",!0):t.$set(e,"isChecked",!1)})))})).finally((function(e){t.confirmLoading=!1}))},addTenant:function(){var t=this;this.confirmLoading=!0,Object(o["hd"])(this.queryParams).then((function(e){0==e.code&&e.success?(t.visible=!1,t.$message.success("修改成功"),t.$emit("ok")):t.$message.error("修改失败:"+e.message)})).finally((function(e){t.confirmLoading=!1}))},formatDateOut:function(t){t=new Date(t);var e=t.getFullYear(),a=t.getMonth()+1,s=t.getDate();return a<10&&(a="0"+a),s<10&&(s="0"+s),"".concat(e,"-").concat(a,"-").concat(s)},selectChange:function(t){t.isChecked?this.queryParams.applicationIds.push(t.id):this.queryParams.applicationIds.splice(this.queryParams.applicationIds.indexOf(t.id),1),this.queryParams.applicationIds=this.removeDuplicate(this.queryParams.applicationIds)},removeDuplicate:function(t){var e=[];return null!=t&&t.length>0&&t.forEach((function(t){e.includes(t)||e.push(t)})),e},reset:function(){this.queryParams.adminAccount="",this.queryParams.adminName="",this.queryParams.email="",this.queryParams.expireDate="",this.queryParams.hospitalName="",this.queryParams.hospitalCode="",this.queryParams.phone="",this.queryParams.tenantName="",this.queryParams.tenantCode="",this.queryParams.applicationIds=[]},handleCancel:function(){this.visible=!1},handleSubmit:function(){this.queryParams.adminAccount?this.queryParams.adminName?this.queryParams.email?this.queryParams.expireDate?this.queryParams.hospitalName?this.queryParams.hospitalCode?this.queryParams.phone?this.queryParams.tenantName?this.queryParams.tenantCode?this.queryParams.applicationIds?this.addTenant():this.$message.$error("请选择对应应用权限"):this.$message.$error("请输入租户编码"):this.$message.$error("请输入租户名称"):this.$message.$error("请输入手机号码"):this.$message.$error("请输入机构编码"):this.$message.$error("请输入机构名称"):this.$message.$error("请选择到期日期"):this.$message.$error("请输入邮箱地址"):this.$message.$error("请输入管理员姓名"):this.$message.$error("请输入管理员账号")}}}),d=p,u=(a("09a4"),a("2877")),m=Object(u["a"])(d,s,i,!1,null,null,null);e["default"]=m.exports},2704:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{title:t.title,width:700,height:450,visible:t.visible,confirmLoading:t.confirmLoading},on:{ok:t.handleSubmit,cancel:t.handleCancel}},[a("div",{staticClass:"div-service-user"},[a("div",{staticClass:"div-totalleft",staticStyle:{"margin-top":"-12px"}},[a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px"}},[a("span",{staticStyle:{"margin-top":"0px"}},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 租户编码:")]),a("a-input",{staticStyle:{width:"200px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$refs.table.refresh(!0)},search:function(e){return t.$refs.table.refresh(!0)}},model:{value:t.queryParams.tenantCode,callback:function(e){t.$set(t.queryParams,"tenantCode",e)},expression:"queryParams.tenantCode"}})],1),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 租户名称:")]),a("a-input",{staticStyle:{width:"200px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$refs.table.refresh(!0)},search:function(e){return t.$refs.table.refresh(!0)}},model:{value:t.queryParams.tenantName,callback:function(e){t.$set(t.queryParams,"tenantName",e)},expression:"queryParams.tenantName"}})],1),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"7px"}},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 到期时间:")]),a("a-date-picker",{staticStyle:{"margin-top":"5px","margin-left":"5px",height:"28px",width:"200px"},attrs:{format:"YYYY-MM-DD"},model:{value:t.queryParams.expireDate,callback:function(e){t.$set(t.queryParams,"expireDate",e)},expression:"queryParams.expireDate"}})],1),a("div",{staticClass:"div-title"},[a("div",{staticClass:"div-line-blue"}),a("span",{staticClass:"span-title"},[t._v("租户管理员信息")])]),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 登录账号:")]),a("a-input",{staticStyle:{width:"200px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$refs.table.refresh(!0)},search:function(e){return t.$refs.table.refresh(!0)}},model:{value:t.queryParams.adminAccount,callback:function(e){t.$set(t.queryParams,"adminAccount",e)},expression:"queryParams.adminAccount"}})],1),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 管理员姓名:")]),a("a-input",{staticStyle:{width:"188px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$refs.table.refresh(!0)},search:function(e){return t.$refs.table.refresh(!0)}},model:{value:t.queryParams.adminName,callback:function(e){t.$set(t.queryParams,"adminName",e)},expression:"queryParams.adminName"}})],1),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 联系电话:")]),a("a-input",{staticStyle:{width:"200px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$refs.table.refresh(!0)},search:function(e){return t.$refs.table.refresh(!0)}},model:{value:t.queryParams.phone,callback:function(e){t.$set(t.queryParams,"phone",e)},expression:"queryParams.phone"}})],1),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 邮箱地址:")]),a("a-input",{staticStyle:{width:"200px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$refs.table.refresh(!0)},search:function(e){return t.$refs.table.refresh(!0)}},model:{value:t.queryParams.email,callback:function(e){t.$set(t.queryParams,"email",e)},expression:"queryParams.email"}})],1),a("div",{staticClass:"div-title"},[a("div",{staticClass:"div-line-blue"}),a("span",{staticClass:"span-title"},[t._v("初始化机构")])]),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 机构编码:")]),a("a-input",{staticStyle:{width:"200px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$refs.table.refresh(!0)},search:function(e){return t.$refs.table.refresh(!0)}},model:{value:t.queryParams.hospitalCode,callback:function(e){t.$set(t.queryParams,"hospitalCode",e)},expression:"queryParams.hospitalCode"}})],1),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 机构名称:")]),a("a-input",{staticStyle:{width:"200px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$refs.table.refresh(!0)},search:function(e){return t.$refs.table.refresh(!0)}},model:{value:t.queryParams.hospitalName,callback:function(e){t.$set(t.queryParams,"hospitalName",e)},expression:"queryParams.hospitalName"}})],1)]),a("div",{staticClass:"card-right-user",staticStyle:{"overflow-y":"auto",height:"450px"}},t._l(t.appListOut,(function(e,s){return a("div",{key:s,staticClass:"div-total1",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"div-line-wrap",staticStyle:{"margin-left":"20%","margin-top":"10px"}},[a("span",{staticClass:"span-item-value"},[t._v(t._s(e.applicationName)+" ")])]),a("a-checkbox",{staticStyle:{"margin-bottom":"15px","margin-left":"10%"},on:{change:function(a){return t.selectChange(e)}},model:{value:e.isChecked,callback:function(a){t.$set(e,"isChecked",a)},expression:"item.isChecked"}}),a("span",{staticClass:"span-item-name",staticStyle:{"margin-left":"5%","font-size":"10px",color:"#d9d9d9"}},[t._v(" "+t._s(e.remark))])],1)})),0)])])},i=[],n=a("ade3"),r=(a("d3b7"),a("159b"),a("99af"),a("a434"),a("caad"),a("c1df")),l=a.n(r),o=a("4cab"),c=a("2af9"),p=(a("9fb0"),a("ca00"),{components:{STable:c["s"]},data:function(){var t;return{userId:"",appList:[],appListOut:[],timeStr:"",msgData:[],templateListWX:[],templateListSMS:[],templateListQues:[],id:"",messageContentType:"",queryParams:(t={adminAccount:"",adminName:"",email:"",expireDate:"",hospitalName:"",hospitalCode:"",phone:"",tenantName:"",tenantCode:""},Object(n["a"])(t,"hospitalCode",""),Object(n["a"])(t,"applicationIds",[]),t),queryParamsApp:{applicationName:"",applicationType:"",status:1},visitTypeList:[{code:2,value:"微信消息"},{code:3,value:"短信消息"}],labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:15}},visible:!1,confirmLoading:!1,form:this.$form.createForm(this),title:"新增租户"}},watch:{timeStr:function(){}},methods:{moment:l.a,add:function(t){this.visible=!0,this.reset(),this.getApplicationlistOut()},getApplicationlistOut:function(){var t=this;this.confirmLoading=!0,Object(o["Y"])(this.queryParamsApp).then((function(e){0==e.code&&(t.appList=e.data,t.appListOut=JSON.parse(JSON.stringify(t.appList)),t.appListOut.forEach((function(e,a){t.$set(e,"isChecked",!1)})))})).finally((function(e){t.confirmLoading=!1}))},addTenant:function(){var t=this;this.confirmLoading=!0,Object(o["hd"])(this.queryParams).then((function(e){0==e.code&&e.success?(t.visible=!1,t.$message.success("新增成功"),t.$emit("ok")):t.$message.error("新增失败:"+e.message)})).finally((function(e){t.confirmLoading=!1}))},formatDateOut:function(t){t=new Date(t);var e=t.getFullYear(),a=t.getMonth()+1,s=t.getDate();return a<10&&(a="0"+a),s<10&&(s="0"+s),"".concat(e,"-").concat(a,"-").concat(s)},selectChange:function(t){t.isChecked?this.queryParams.applicationIds.push(t.id):this.queryParams.applicationIds.splice(this.queryParams.applicationIds.indexOf(t.id),1),this.queryParams.applicationIds=this.removeDuplicate(this.queryParams.applicationIds)},removeDuplicate:function(t){var e=[];return null!=t&&t.length>0&&t.forEach((function(t){e.includes(t)||e.push(t)})),e},reset:function(){this.queryParams.adminAccount="",this.queryParams.adminName="",this.queryParams.email="",this.queryParams.expireDate="",this.queryParams.hospitalName="",this.queryParams.hospitalCode="",this.queryParams.phone="",this.queryParams.tenantName="",this.queryParams.tenantCode="",this.queryParams.applicationIds=[]},handleCancel:function(){this.visible=!1},handleSubmit:function(){this.queryParams.adminAccount?this.queryParams.adminName?this.queryParams.email?this.queryParams.expireDate?this.queryParams.hospitalName?this.queryParams.hospitalCode?this.queryParams.phone?this.queryParams.tenantName?this.queryParams.tenantCode?this.queryParams.applicationIds?this.addTenant():this.$message.$error("请选择对应应用权限"):this.$message.$error("请输入租户编码"):this.$message.$error("请输入租户名称"):this.$message.$error("请输入手机号码"):this.$message.$error("请输入机构编码"):this.$message.$error("请输入机构名称"):this.$message.$error("请选择到期日期"):this.$message.$error("请输入邮箱地址"):this.$message.$error("请输入管理员姓名"):this.$message.$error("请输入管理员账号")}}}),d=p,u=(a("1ae8"),a("2877")),m=Object(u["a"])(d,s,i,!1,null,null,null);e["default"]=m.exports},"66ea":function(t,e,a){},"6cee":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-card",{staticClass:"card-right-pac",attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper"},[a("div",{staticClass:"search-row"},[a("span",{staticClass:"name"},[t._v("查询条件:")]),a("a-input",{staticStyle:{width:"120px"},attrs:{"allow-clear":"",placeholder:"可输入用户名称名称查询"},on:{blur:function(e){return t.$refs.table.refresh(!0)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$refs.table.refresh(!0)},search:function(e){return t.$refs.table.refresh(!0)}},model:{value:t.queryParams.tenantName,callback:function(e){t.$set(t.queryParams,"tenantName",e)},expression:"queryParams.tenantName"}})],1),a("div",{staticClass:"search-row"},[a("span",{staticClass:"name"},[t._v("状态:")]),a("a-switch",{attrs:{checked:t.isOpen},on:{click:t.goOpen}})],1),a("div",{staticClass:"action-row"},[a("span",{staticClass:"buttons",style:{float:"right",overflow:"hidden"}},[a("a-button",{attrs:{type:"primary",icon:"search"},on:{click:function(e){return t.$refs.table.refresh(!0)}}},[t._v("查询")]),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{icon:"undo"},on:{click:function(e){return t.reset()}}},[t._v("重置")])],1)]),a("div",{staticClass:"div-divider1"}),a("div",{staticClass:"table-operator",staticStyle:{overflow:"hidden"}},[a("a-button",{staticStyle:{float:"right","margin-right":"0"},attrs:{icon:"plus"},on:{click:function(e){return t.addTenant()},ok:t.handleOk}},[t._v("新增")])],1)]),a("a-modal",{attrs:{title:t.titleResetPwd,visible:t.visible_updPwd,"confirm-loading":t.confirmLoading},on:{ok:t.handleOkUpdPwd,cancel:t.handleCancelUpdPwd}},[a("a-form",{attrs:{form:t.form2}},[a("a-form-item",{attrs:{label:"新密码",labelCol:t.labelCol,wrapperCol:t.wrapperCol,"has-feedback":""}},[a("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"请输入新密码！"},{validator:t.validateToNextPassword}]}],expression:"[\n            'password',\n            {\n              rules: [\n                { required: true, message: '请输入新密码！' },\n                {\n                  validator: validateToNextPassword,\n                },\n              ],\n            },\n          ]"}],attrs:{placeholder:"请输入新密码",type:"password",defaultValue:""}})],1),a("a-form-item",{attrs:{label:"重复新密码",labelCol:t.labelCol,wrapperCol:t.wrapperCol,"has-feedback":""}},[a("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["confirm",{rules:[{required:!0,message:"请再次输入新密码！"},{validator:t.compareToFirstPassword}]}],expression:"[\n            'confirm',\n            {\n              rules: [\n                { required: true, message: '请再次输入新密码！' },\n                {\n                  validator: compareToFirstPassword,\n                },\n              ],\n            },\n          ]"}],attrs:{placeholder:"请再次输入新密码",type:"password",defaultValue:""}})],1)],1)],1),a("s-table",{ref:"table",attrs:{size:"default",columns:t.columns,data:t.loadData,alert:!0,rowKey:function(t){return t.code}},scopedSlots:t._u([{key:"action",fn:function(e,s){return a("span",{},[a("a",{on:{click:function(e){return t.$refs.modify.modify(s)}}},[t._v("修改")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(e){return t.resetPwsd(s)}}},[t._v("重置密码")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(e){3==s.initStatuas||4==s.initStatuas?t.$refs.initRecord.initrecord(s):t.init(s)}}},[t._v("初始化")])],1)}},{key:"statuas",fn:function(t,e){return a("span",{},[a("a-switch",{attrs:{disabled:!0,checked:e.enableStatus}})],1)}}])}),a("modify",{ref:"modify",on:{ok:t.handleOk}}),a("add-Tenant",{ref:"addTenant",on:{ok:t.handleOk}}),a("init-Record",{ref:"initRecord",on:{ok:t.handleOk}})],1)},i=[],n=(a("d3b7"),a("159b"),a("2af9")),r=a("4cab"),l=a("2704"),o=a("1cc6"),c=a("1758"),p={components:{STable:n["s"],modify:o["default"],addTenant:l["default"],initRecord:c["default"]},data:function(){var t=this;return{visible_updPwd:!1,form1:this.$form.createForm(this),form2:this.$form.createForm(this),isOpen:!0,titleResetPwd:"",tenantId:"",datas:[],keshiData:[],queryParams:{metaName:"",status:1,tenantName:""},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:15}},visible:!1,confirmLoading:!1,form:this.$form.createForm(this),columns:[{title:"租户名称",dataIndex:"tenantName",width:100,ellipsis:!0},{title:"登录账号",dataIndex:"adminAccount",width:180},{title:"应用权限",dataIndex:"applicationNames",width:180,ellipsis:!0},{title:"手机号码",dataIndex:"phone",width:180},{title:"到期日期",dataIndex:"expireDate",width:180},{title:"状态",dataIndex:"status",width:70,scopedSlots:{customRender:"statuas"}},{title:"访问地址",dataIndex:"indexUrl",width:180},{title:"操作",width:"150px",dataIndex:"action",scopedSlots:{customRender:"action"}}],loadData:function(e){return Object(r["Rb"])(Object.assign(e,t.queryParams)).then((function(a){var s={pageNo:e.current,pageSize:e.size,totalRows:a.data.total,totalPage:a.data.total/e.size,rows:a.data.records};return 0==a.code&&a.data.records.length>0&&s.rows.forEach((function(e,a){t.$set(e,"enableStatus",null!=e.status?1==e.status.value:2),t.$set(e,"initStatuas",null!=e.initStatus?e.initStatus.value:"")})),s}))}}},methods:{reset:function(){""!=this.queryParams.metaName&&(this.queryParams.metaName="")},resetPwsd:function(t){this.visible_updPwd=!0,this.tenantId=t.tenantId,this.titleResetPwd="重置  "+t.tenantName+"  管理员密码"},handleOkUpdPwd:function(){var t=this,e=this.form2.validateFields;e((function(e,a){if(!e){var s={password:a.password,tenantId:t.tenantId};Object(r["Tc"])(s).then((function(e){e.success?(t.$message.success("修改成功"),t.handleCancelUpdPwd()):t.$message.error("修改失败："+e.message)}))}}))},handleCancelUpdPwd:function(){this.visible=!1,this.visible_updPwd=!1,this.form2.resetFields()},compareToFirstPassword:function(t,e,a){var s=this.form2;e&&e!==s.getFieldValue("password")?a("请确认两次输入密码的一致性！"):a()},validateToNextPassword:function(t,e,a){var s=this.form2;e&&this.confirmDirty&&s.validateFields(["confirm"],{force:!0}),a()},Enable:function(t){t.status.value=1==t.status.value?2:1,t.enableStatus=1==t.status.value?"停用":"启用";t.id,t.status.value},init:function(t){var e=this;this.confirmLoading=!0,Object(r["xd"])({tenandId:t.tenandId}).then((function(t){0==t.code&&t.success?e.$message.success("初始化成功!"):e.$message.error("初始化失败:"+t.message)})).finally((function(t){e.confirmLoading=!1}))},addTenant:function(){this.$refs.addTenant.add()},handleOk:function(){this.$refs.table.refresh()},handleCancel:function(){this.form.resetFields(),this.visible=!1},goOpen:function(){this.isOpen=!this.isOpen,this.isOpen?this.queryParams.status=1:this.queryParams.status=2,this.handleOk()}}},d=p,u=(a("ae59"),a("2877")),m=Object(u["a"])(d,s,i,!1,null,null,null);e["default"]=m.exports},ae59:function(t,e,a){"use strict";a("17a7")},c714:function(t,e,a){"use strict";a("d358")},d358:function(t,e,a){},e928:function(t,e,a){}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a3afe58"],{8217:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"div-inquiry-stat"},[a("a-tabs",{attrs:{"default-active-key":"1"},on:{change:e.callback}},[a("a-tab-pane",{key:"1",attrs:{tab:"图文问诊"}},[a("a-card",{staticClass:"card-right-stat",attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:6,sm:24}},[a("a-form-item",{attrs:{label:"统计月份"}},[a("a-month-picker",{attrs:{"default-value":e.nowMonth,placeholder:"选择月份",format:e.monthFormat},model:{value:e.queryUpParams.month,callback:function(t){e.$set(e.queryUpParams,"month",t)},expression:"queryUpParams.month"}})],1)],1),a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"时间"}},[a("a-date-picker",{attrs:{"default-value":e.nowDateBegin,format:"YYYY-MM-DD"},model:{value:e.queryUpParams.beginDate,callback:function(t){e.$set(e.queryUpParams,"beginDate",t)},expression:"queryUpParams.beginDate"}}),e._v(" 至 "),a("a-date-picker",{attrs:{"default-value":e.nowDateEnd,format:"YYYY-MM-DD"},model:{value:e.queryUpParams.endDate,callback:function(t){e.$set(e.queryUpParams,"endDate",t)},expression:"queryUpParams.endDate"}})],1)],1),a("a-col",{attrs:{md:3,sm:24}},[a("a-button",{attrs:{type:"primary"},on:{click:e.getQueryData}},[e._v("查询")])],1)],1)],1)],1),a("div",{staticClass:"div-total"},[a("div",{staticClass:"div-item"},[a("p",{staticStyle:{"margin-bottom":"3%","font-size":"15px",color:"#333","font-weight":"bold"}},[e._v(" "+e._s(e.dataTotal[0].total||0)+" ")]),a("p",{staticStyle:{"font-size":"18px"}},[e._v("问诊总量")])]),a("div",{staticClass:"div-item"},[a("p",{staticStyle:{"margin-bottom":"3%","font-size":"15px",color:"#3fb6bc","font-weight":"bold"}},[e._v(" "+e._s(e.dataTotal[0].finished)+" ")]),a("p",{staticStyle:{"font-size":"18px"}},[e._v("接诊数量")])]),a("div",{staticClass:"div-item"},[a("p",{staticStyle:{"margin-bottom":"3%","font-size":"15px",color:"red","font-weight":"bold"}},[e._v(" "+e._s(e.dataTotal[0].unfinished)+" ")]),a("p",{staticStyle:{"font-size":"18px"}},[e._v("未接诊数量")])]),a("div",{staticClass:"div-item"},[a("p",{staticStyle:{"margin-bottom":"3%","font-size":"15px",color:"orange","font-weight":"bold"}},[e._v(" "+e._s(e.dataTotal[0].finishedRate)+"% ")]),a("p",{staticStyle:{"font-size":"18px"}},[e._v("接诊率")])]),a("div",{staticClass:"div-item"},[a("p",{staticStyle:{"margin-bottom":"3%","font-size":"15px",color:"blue","font-weight":"bold"}},[e._v(" "+e._s(e.dataTotal[0].avgTime)+" ")]),a("p",{staticStyle:{"font-size":"18px"}},[e._v("平均接诊间隔")])])]),a("div",{staticClass:"chart",staticStyle:{width:"60%"}},[a("bars",{ref:"bars",attrs:{ids:"bars",name:"年龄",widths:"100%",heights:"350px"}})],1),a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:5,sm:24}},[a("a-form-item",{attrs:{label:"医生"}},[a("a-input",{attrs:{"allow-clear":"",placeholder:"请输入医生"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$refs.table.refresh(!0)}},model:{value:e.queryParams.execName,callback:function(t){e.$set(e.queryParams,"execName",t)},expression:"queryParams.execName"}})],1)],1),a("a-col",{attrs:{md:6,sm:24}},[a("a-form-item",{attrs:{label:"科室"}},[a("div",{staticClass:"div-stat-auto"},[a("a-auto-complete",{staticClass:"global-search",staticStyle:{width:"100%","font-size":"14px"},attrs:{size:"large",placeholder:"请输入并选择","option-label-prop":"title"},on:{select:e.onSelect,search:e.handleSearch},model:{value:e.chooseDeptItem.departmentName,callback:function(t){e.$set(e.chooseDeptItem,"departmentName",t)},expression:"chooseDeptItem.departmentName"}},[a("template",{slot:"dataSource"},e._l(e.keshiDataTemp,(function(t){return a("a-select-option",{key:t.departmentId+"",attrs:{title:t.departmentName}},[e._v(" "+e._s(t.departmentName)+" ")])})),1)],2)],1)])],1),a("a-col",{attrs:{md:3,sm:24}},[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.$refs.table.refresh(!0)}}},[e._v("查询")])],1)],1)],1)],1),a("s-table",{ref:"table",attrs:{size:"default",columns:e.columns,data:e.loadData,alert:!0,rowKey:function(e){return e.code}},on:{change:e.changeTab}})],1)],1),a("a-tab-pane",{key:"2",attrs:{tab:"视频问诊"}},[a("a-card",{staticClass:"card-right-stat",attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:6,sm:24}},[a("a-form-item",{attrs:{label:"统计月份"}},[a("a-month-picker",{attrs:{"default-value":e.nowMonth,placeholder:"选择月份",format:e.monthFormat},model:{value:e.queryUpParamsVideo.month,callback:function(t){e.$set(e.queryUpParamsVideo,"month",t)},expression:"queryUpParamsVideo.month"}})],1)],1),a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"时间"}},[a("a-date-picker",{attrs:{"default-value":e.nowDateBegin,format:"YYYY-MM-DD"},model:{value:e.queryUpParamsVideo.beginDate,callback:function(t){e.$set(e.queryUpParamsVideo,"beginDate",t)},expression:"queryUpParamsVideo.beginDate"}}),e._v(" 至 "),a("a-date-picker",{attrs:{"default-value":e.nowDateEnd,format:"YYYY-MM-DD"},model:{value:e.queryUpParamsVideo.endDate,callback:function(t){e.$set(e.queryUpParamsVideo,"endDate",t)},expression:"queryUpParamsVideo.endDate"}})],1)],1),a("a-col",{attrs:{md:3,sm:24}},[a("a-button",{attrs:{type:"primary"},on:{click:e.getQueryDataVideo}},[e._v("查询")])],1)],1)],1)],1),a("div",{staticClass:"div-total"},[a("div",{staticClass:"div-item"},[a("p",{staticStyle:{"margin-bottom":"3%","font-size":"15px",color:"#333","font-weight":"bold"}},[e._v(" "+e._s(e.dataTotalVideo[0].total||0)+" ")]),a("p",{staticStyle:{"font-size":"18px"}},[e._v("问诊总量")])]),a("div",{staticClass:"div-item"},[a("p",{staticStyle:{"margin-bottom":"3%","font-size":"15px",color:"#3fb6bc","font-weight":"bold"}},[e._v(" "+e._s(e.dataTotalVideo[0].finished)+" ")]),a("p",{staticStyle:{"font-size":"18px"}},[e._v("接诊数量")])]),a("div",{staticClass:"div-item"},[a("p",{staticStyle:{"margin-bottom":"3%","font-size":"15px",color:"red","font-weight":"bold"}},[e._v(" "+e._s(e.dataTotalVideo[0].unfinished)+" ")]),a("p",{staticStyle:{"font-size":"18px"}},[e._v("未接诊数量")])]),a("div",{staticClass:"div-item"},[a("p",{staticStyle:{"margin-bottom":"3%","font-size":"15px",color:"orange","font-weight":"bold"}},[e._v(" "+e._s(e.dataTotalVideo[0].finishedRate)+"% ")]),a("p",{staticStyle:{"font-size":"18px"}},[e._v("接诊率")])]),a("div",{staticClass:"div-item"},[a("p",{staticStyle:{"margin-bottom":"3%","font-size":"15px",color:"blue","font-weight":"bold"}},[e._v(" "+e._s(e.dataTotalVideo[0].avgTime)+" ")]),a("p",{staticStyle:{"font-size":"18px"}},[e._v("平均接诊间隔")])])]),a("div",{staticClass:"chart",staticStyle:{width:"60%"}},[a("bars",{ref:"barsVideo",attrs:{ids:"barsVideo",name:"年龄",widths:"100%",heights:"350px"}})],1),a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:5,sm:24}},[a("a-form-item",{attrs:{label:"医生"}},[a("a-input",{attrs:{"allow-clear":"",placeholder:"请输入医生"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$refs.table.refresh(!0)}},model:{value:e.queryParamsVideo.execName,callback:function(t){e.$set(e.queryParamsVideo,"execName",t)},expression:"queryParamsVideo.execName"}})],1)],1),a("a-col",{attrs:{md:6,sm:24}},[a("a-form-item",{attrs:{label:"科室"}},[a("div",{staticClass:"div-stat-auto"},[a("a-auto-complete",{staticClass:"global-search",staticStyle:{width:"100%","font-size":"14px"},attrs:{size:"large",placeholder:"请输入并选择","option-label-prop":"title"},on:{select:e.onSelectVideo,search:e.handleSearchVideo},model:{value:e.chooseDeptItemVideo.departmentName,callback:function(t){e.$set(e.chooseDeptItemVideo,"departmentName",t)},expression:"chooseDeptItemVideo.departmentName"}},[a("template",{slot:"dataSource"},e._l(e.keshiDataTempVideo,(function(t){return a("a-select-option",{key:t.departmentId+"",attrs:{title:t.departmentName}},[e._v(" "+e._s(t.departmentName)+" ")])})),1)],2)],1)])],1),a("a-col",{attrs:{md:3,sm:24}},[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.$refs.tableVideo.refresh(!0)}}},[e._v("查询")])],1)],1)],1)],1),a("s-table",{ref:"tableVideo",attrs:{size:"default",columns:e.columnsVideo,data:e.loadDataVideo,alert:!0,rowKey:function(e){return e.code}},on:{change:e.changeTab}})],1)],1)],1)],1)},i=[],r=(a("d3b7"),a("159b"),a("99af"),a("4de4"),a("7db0"),a("2af9")),o=a("ca00"),n=a("c1df"),d=a.n(n),c=a("4cab"),l={components:{STable:r["s"],Bars:r["e"]},data:function(){var e=this;return{monthFormat:"YYYY-MM",dateFormat:"YYYY-MM-DD",nowMonth:"",nowDateBegin:"",nowDateEnd:"",columns:[{title:"序号",dataIndex:"xh"},{title:"医生团队",dataIndex:"execName"},{title:"科室",dataIndex:"deptName"},{title:"问诊数量",dataIndex:"total",sorter:!0,sortDirections:["descend","ascend"]},{title:"接诊数量",dataIndex:"finished",sorter:!0,sortDirections:["descend","ascend"]},{title:"未接诊数量",dataIndex:"unfinished",sorter:!0,sortDirections:["descend","ascend"]},{title:"接诊率(%)",dataIndex:"finishedRate",sorter:!0,sortDirections:["descend","ascend"]},{title:"平均接诊间隔",dataIndex:"avgTime",sorter:!0,sortDirections:["descend","ascend"]}],chooseDeptItem:{},keshiDataTemp:[],loadData:function(t){if(e.queryUpParams.beginDate&&e.queryUpParams.endDate){if(e.queryUpParams.beginDate>e.queryUpParams.endDate)return e.$message.error("请选择开始时间小于结束时间"),delete e.queryUpParams.beginDate,delete e.queryUpParams.endDate,void e.$refs.table.refresh();if(e.queryUpParams.beginDate){var a=e.formatDate(e.queryUpParams.beginDate);e.queryUpParams.beginDate=a+" 00:00:00"}if(e.queryUpParams.endDate){var s=e.formatDate(e.queryUpParams.endDate);e.queryUpParams.endDate=s+" 23:59:59"}}else delete e.queryUpParams.beginDate,delete e.queryUpParams.endDate;var i=Object.assign(e.queryParams,e.queryUpParams);return Object(c["nd"])(Object.assign(t,i)).then((function(t){if(0==t.code){for(var a=0;a<t.data.rows.length;a++)e.$set(t.data.rows[a],"xh",a+1+(t.data.pageNo-1)*t.data.pageSize);return t.data}}))},queryParams:{execDept:"",rightsType:"textNum",execName:"",month:Object(o["g"])(),beginDate:Object(o["f"])(),endDate:Object(o["e"])(),sortName:"finished",sortFlag:-1,pageNo:1,pageSize:10},queryUpParams:{rightsType:"textNum",month:Object(o["g"])(),beginDate:Object(o["f"])(),endDate:Object(o["e"])()},dataTotal:[{total:1,avgTime:"1h8m",finishedRate:5,finished:3,unfinished:3}],dailyData:[],columnsVideo:[{title:"序号",dataIndex:"xh"},{title:"医生团队",dataIndex:"execName"},{title:"科室",dataIndex:"deptName"},{title:"问诊数量",dataIndex:"total",sorter:!0,sortDirections:["descend","ascend"]},{title:"接诊数量",dataIndex:"finished",sorter:!0,sortDirections:["descend","ascend"]},{title:"未接诊数量",dataIndex:"unfinished",sorter:!0,sortDirections:["descend","ascend"]},{title:"接诊率(%)",dataIndex:"finishedRate",sorter:!0,sortDirections:["descend","ascend"]},{title:"平均接诊间隔",dataIndex:"avgTime",sorter:!0,sortDirections:["descend","ascend"]}],chooseDeptItemVideo:{},keshiDataTempVideo:[],loadDataVideo:function(t){if(e.queryUpParamsVideo.beginDate&&e.queryUpParamsVideo.endDate){if(e.queryUpParamsVideo.beginDate>e.queryUpParamsVideo.endDate)return e.$message.error("请选择开始时间小于结束时间"),delete e.queryUpParamsVideo.beginDate,delete e.queryUpParamsVideo.endDate,void e.$refs.tableVideo.refresh();if(e.queryUpParamsVideo.beginDate){var a=e.formatDate(e.queryUpParamsVideo.beginDate);e.queryUpParamsVideo.beginDate=a+" 00:00:00"}if(e.queryUpParamsVideo.endDate){var s=e.formatDate(e.queryUpParamsVideo.endDate);e.queryUpParamsVideo.endDate=s+" 23:59:59"}}else delete e.queryUpParamsVideo.beginDate,delete e.queryUpParamsVideo.endDate;var i=Object.assign(e.queryParamsVideo,e.queryUpParamsVideo);return Object(c["nd"])(Object.assign(t,i)).then((function(t){if(0==t.code){for(var a=0;a<t.data.rows.length;a++)e.$set(t.data.rows[a],"xh",a+1+(t.data.pageNo-1)*t.data.pageSize);return t.data}}))},queryParamsVideo:{execDept:"",rightsType:"videoNum",execName:"",month:Object(o["g"])(),beginDate:Object(o["f"])(),endDate:Object(o["e"])(),sortName:"finished",sortFlag:-1,pageNo:1,pageSize:10},queryUpParamsVideo:{rightsType:"videoNum",month:Object(o["g"])(),beginDate:Object(o["f"])(),endDate:Object(o["e"])()},dataTotalVideo:[{total:6,avgTime:"1h8m",finishedRate:6,finished:6,unfinished:6}],dailyDataVideo:[]}},created:function(){var e=this;Object(c["gb"])().then((function(t){0==t.code&&(e.keshiData=t.data,e.keshiDataTemp=JSON.parse(JSON.stringify(e.keshiData)),e.keshiDataVideo=t.data,e.keshiDataTempVideo=JSON.parse(JSON.stringify(e.keshiData)))})),this.getQueryData(),this.getQueryDataVideo(),this.nowMonth=d()(Object(o["g"])(),this.monthFormat),this.nowDateBegin=d()(Object(o["f"])(),this.dateFormat),this.nowDateEnd=d()(Object(o["e"])(),this.dateFormat)},mounted:function(){},methods:{moment:d.a,getQueryData:function(){var e=this;this.queryUpParams.month=this.formatDate(this.queryUpParams.month).substring(0,7),"1970-01-01"==this.formatDate(this.queryUpParams.beginDate).substring(0,11)?this.queryUpParams.beginDate:this.queryUpParams.beginDate=this.formatDate(this.queryUpParams.beginDate).substring(0,11),"1970-01-01"==this.formatDate(this.queryUpParams.endDate).substring(0,11)?this.queryUpParams.endDate:this.queryUpParams.endDate=this.formatDate(this.queryUpParams.endDate).substring(0,11),Object(c["md"])(this.queryUpParams).then((function(t){0==t.code&&(e.dataTotal=t.data)})),Object(c["od"])(this.queryUpParams).then((function(t){if(0==t.code){e.dailyData=t.data,e.$refs.bars.showLoading();var a={xAxis:[{type:"category",data:[],axisTick:{alignWithLabel:!0}}],series:[{name:"问诊总量",type:"bar",barWidth:"20%",data:[]}]};e.dailyData.forEach((function(e){a.xAxis[0].data.push(e.dateTime),a.series[0].data.push(e.total)})),e.$refs.bars.init(a)}}))},callback:function(e){},changeTab:function(e,t,a){},formatDate:function(e){e=new Date(e);var t=e.getFullYear(),a=e.getMonth()+1,s=e.getDate();return a<10&&(a="0"+a),s<10&&(s="0"+s),"".concat(t,"-").concat(a,"-").concat(s)},formatDateFull:function(e){e=new Date(e);var t=e.getFullYear(),a=e.getMonth()+1,s=e.getDate(),i=e.getHours(),r=e.getMinutes(),o=e.getSeconds();return a<10&&(a="0"+a),s<10&&(s="0"+s),i<10&&(i="0"+i),r<10&&(r="0"+r),o<10&&(o="0"+o),"".concat(t,"-").concat(a,"-").concat(s," ").concat(i,":").concat(r,":").concat(o)},handleSearch:function(e){e?this.keshiDataTemp=this.keshiData.filter((function(t){return-1!=t.departmentName.indexOf(e)})):(this.keshiDataTemp=JSON.parse(JSON.stringify(this.keshiData)),this.chooseDeptItem={},this.queryParams.execDept="")},onSelect:function(e){this.queryParams.execDept=e,this.chooseDeptItem=JSON.parse(JSON.stringify(this.keshiData.find((function(t){return t.departmentId==e}))))},getQueryDataVideo:function(){var e=this;this.queryUpParamsVideo.month=this.formatDate(this.queryUpParamsVideo.month).substring(0,7),"1970-01-01"==this.formatDate(this.queryUpParamsVideo.beginDate).substring(0,11)?this.queryUpParamsVideo.beginDate:this.queryUpParamsVideo.beginDate=this.formatDate(this.queryUpParamsVideo.beginDate).substring(0,11),"1970-01-01"==this.formatDate(this.queryUpParamsVideo.endDate).substring(0,11)?this.queryUpParamsVideo.endDate:this.queryUpParamsVideo.endDate=this.formatDate(this.queryUpParamsVideo.endDate).substring(0,11),Object(c["md"])(this.queryUpParamsVideo).then((function(t){0==t.code&&(e.dataTotalVideo=t.data)})),Object(c["od"])(this.queryUpParamsVideo).then((function(t){if(0==t.code){e.dailyDataVideo=t.data,e.$refs.barsVideo.showLoading();var a={xAxis:[{type:"category",data:[],axisTick:{alignWithLabel:!0}}],series:[{name:"问诊总量",type:"bar",barWidth:"20%",data:[]}]};e.dailyDataVideo.forEach((function(e){a.xAxis[0].data.push(e.dateTime),a.series[0].data.push(e.total)})),e.$refs.barsVideo.init(a)}}))},handleSearchVideo:function(e){e?this.keshiDataTempVideo=this.keshiDataVideo.filter((function(t){return-1!=t.departmentName.indexOf(e)})):(this.keshiDataTempVideo=JSON.parse(JSON.stringify(this.keshiDataVideo)),this.chooseDeptItemVideo={},this.queryParamsVideo.execDept="")},onSelectVideo:function(e){this.queryParamsVideo.execDept=e,this.chooseDeptItemVideo=JSON.parse(JSON.stringify(this.keshiDataVideo.find((function(t){return t.departmentId==e}))))}}},m=l,u=(a("b232"),a("2877")),p=Object(u["a"])(m,s,i,!1,null,null,null);t["default"]=p.exports},"8ad5":function(e,t,a){},b232:function(e,t,a){"use strict";a("8ad5")}}]);
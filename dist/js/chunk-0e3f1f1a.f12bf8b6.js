(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e3f1f1a"],{"1da1":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a("d3b7");function i(e,t,a,i,s,r,n){try{var l=e[r](n),o=l.value}catch(c){return void a(c)}l.done?t(o):Promise.resolve(o).then(i,s)}function s(e){return function(){var t=this,a=arguments;return new Promise((function(s,r){var n=e.apply(t,a);function l(e){i(n,s,r,l,o,"next",e)}function o(e){i(n,s,r,l,o,"throw",e)}l(void 0)}))}}},"36c0":function(e,t,a){"use strict";a("e760")},5072:function(e,t,a){},"5abf":function(e,t,a){"use strict";a("5072")},e760:function(e,t,a){},ee5d:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:e.title,width:700,height:450,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[a("div",{staticClass:"div-service-user"},[a("div",{staticClass:"div-totalleft",staticStyle:{"margin-top":"-20px"}},[a("div",{staticClass:"div-title"},[a("div",{staticClass:"div-line-blue"}),a("span",{staticClass:"span-title"},[e._v("基础信息")])]),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"5px"}},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" 上级机构:")]),a("a-input",{staticStyle:{width:"200px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$refs.table.refresh(!0)},search:function(t){return e.$refs.table.refresh(!0)}},model:{value:e.queryParams.tenantCode,callback:function(t){e.$set(e.queryParams,"tenantCode",t)},expression:"queryParams.tenantCode"}})],1),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" 机构代码:")]),a("a-input",{staticStyle:{width:"200px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$refs.table.refresh(!0)},search:function(t){return e.$refs.table.refresh(!0)}},model:{value:e.queryParams.tenantName,callback:function(t){e.$set(e.queryParams,"tenantName",t)},expression:"queryParams.tenantName"}})],1),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"7px"}},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" 机构名称:")]),a("a-input",{staticStyle:{width:"200px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$refs.table.refresh(!0)},search:function(t){return e.$refs.table.refresh(!0)}},model:{value:e.queryParams.tenantName,callback:function(t){e.$set(e.queryParams,"tenantName",t)},expression:"queryParams.tenantName"}})],1),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" 显示顺序:")]),a("a-button",{staticStyle:{"margin-left":"5px"},attrs:{icon:"plus",size:"small"},on:{click:function(t){return e.addNum()}}}),a("a-input",{staticStyle:{width:"90px","margin-left":"8px","text-align":"center"},attrs:{disabled:!0,defaultValue:1,"allow-clear":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$refs.table.refresh(!0)},search:function(t){return e.$refs.table.refresh(!0)}},model:{value:e.queryParams.count,callback:function(t){e.$set(e.queryParams,"count",t)},expression:"queryParams.count"}}),a("a-button",{staticStyle:{"margin-left":"5px"},attrs:{size:"small",icon:"minus"},on:{click:function(t){return e.duleNum()}}})],1),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" 机构类型:")]),a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["roleId",{rules:[{required:!0,message:"请选择发送时间！"}]}],expression:"['roleId', { rules: [{ required: true, message: '请选择发送时间！' }] }]"}],attrs:{name:"radioGroup",defaultValue:"2"},on:{change:e.radioChange}},[a("a-radio",{staticStyle:{"font-size":"8px","margin-left":"10px","margin-top":"10px"},attrs:{value:1}},[e._v(" 管理机构 ")]),a("a-radio",{staticStyle:{"font-size":"8px","margin-top":"10px"},attrs:{value:2}},[e._v(" 医疗机构 ")])],1)],1),"2"==e.rangeValue?a("div",{staticClass:"div-title"},[a("div",{staticClass:"div-line-blue"}),a("span",{staticClass:"span-title"},[e._v("医疗机构属性")])]):e._e(),"2"==e.rangeValue?a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" 机构类型:")]),a("a-select",{staticClass:"sitemore",staticStyle:{"min-width":"200px",height:"28px","margin-left":"5px","margin-top":"5px"},attrs:{title:e.queryParams.depts,maxTagCount:1,"allow-clear":"",placeholder:"请选择机构类型"},model:{value:e.queryParams.depts,callback:function(t){e.$set(e.queryParams,"depts",t)},expression:"queryParams.depts"}},e._l(e.HospitalTypeList,(function(t,i){return a("a-select-option",{key:i,attrs:{value:t.value}},[e._v(e._s(t.description))])})),1)],1):e._e(),"2"==e.rangeValue?a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" 机构等级:")]),a("a-select",{staticClass:"sitemore",staticStyle:{"min-width":"200px",height:"28px","margin-left":"5px","margin-top":"5px"},attrs:{title:e.queryParams.depts,maxTagCount:1,"allow-clear":"",placeholder:"请选择机构等级"},model:{value:e.queryParams.depts,callback:function(t){e.$set(e.queryParams,"depts",t)},expression:"queryParams.depts"}},e._l(e.HospitalLevelList,(function(t,i){return a("a-select-option",{key:i,attrs:{value:t.value}},[e._v(e._s(t.description))])})),1)],1):e._e(),a("div",{staticClass:"div-title"},[a("div",{staticClass:"div-line-blue"}),a("span",{staticClass:"span-title"},[e._v("接口配置")])]),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" HIS编码: ")]),a("a-input",{staticStyle:{width:"200px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$refs.table.refresh(!0)},search:function(t){return e.$refs.table.refresh(!0)}},model:{value:e.queryParams.hospitalCode,callback:function(t){e.$set(e.queryParams,"hospitalCode",t)},expression:"queryParams.hospitalCode"}})],1),a("div",{staticClass:"display-item",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[a("span",{staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" 服务地址:")]),a("a-input",{staticStyle:{width:"200px","margin-top":"5px","margin-left":"5px"},attrs:{"allow-clear":"",placeholder:"请输入内容"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$refs.table.refresh(!0)},search:function(t){return e.$refs.table.refresh(!0)}},model:{value:e.queryParams.hospitalName,callback:function(t){e.$set(e.queryParams,"hospitalName",t)},expression:"queryParams.hospitalName"}})],1)]),a("div",{staticClass:"card-right-user",staticStyle:{"overflow-y":"auto",height:"450px"}},[a("div",{staticClass:"div-title",staticStyle:{"margin-left":"10px","margin-top":"3px"}},[a("div",{staticClass:"div-line-blue"}),a("span",{staticClass:"span-title"},[e._v("机构简介")])]),a("div",{staticClass:"dddd-r",staticStyle:{"margin-top":"10px","margin-left":"10px"}},[a("a-upload",{staticStyle:{width:"40%",height:"30px"},attrs:{action:e.actionUrlCover,multiple:!0,"file-list":e.fileList,"list-type":"picture-card",headers:e.headers},on:{preview:e.handlePreview,change:e.handleChange}},[a("a-icon",{attrs:{type:"plus"}}),a("div",{staticClass:"ant-upload-text"},[e._v("upload")])],1),a("div",{staticClass:"domw-r"},[a("a-button",{staticStyle:{"margin-left":"5px","margin-top":"20px"},attrs:{icon:"vertical-align-top"},on:{click:function(t){return e.uploadFile()}}},[e._v("上传文件")]),a("span",{staticStyle:{"margin-left":"5px","margin-top":"20px"}},[e._v("支持扩展名:jpg、jpeg、png、bmp格式")])],1)],1),a("div",{ref:"editorEl",staticStyle:{"margin-top":"3%"},attrs:{id:"div1"}})])])])},s=[],r=a("1da1"),n=a("ade3"),l=(a("96cf"),a("d3b7"),a("99af"),a("159b"),a("caad"),a("c1df")),o=a.n(l),c=a("4cab"),p=a("2af9"),u=a("ca00"),d=a("6fad"),m=a.n(d),f=a("9fb0"),h=a("2b0e"),y={components:{STable:p["s"]},data:function(){var e;return{bb:"1",userId:"",timeStr:"",originData:[],id:"",rangeValue:"2",HospitalLevelList:[],HospitalTypeList:[],record:{},queryParams:(e={adminAccount:"",adminName:"",email:"",expireDate:"",hospitalName:"",hospitalCode:"",count:1,phone:"",tenantName:"",tenantCode:""},Object(n["a"])(e,"hospitalCode",""),Object(n["a"])(e,"applicationIds",[]),e),queryParamsApp:{applicationName:"",applicationType:"",status:1},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:15}},headers:{Authorization:""},visible:!1,confirmLoading:!1,form:this.$form.createForm(this),title:"新增机构",actionUrlCover:"/api/content-api/fileUpload/uploadImgFileForWX",fileList:[]}},methods:{moment:o.a,add:function(e){var t=this;this.visible=!0,this.reset(),this.getHospitalLevel(),this.getHospitalType(),this.$nextTick((function(){t.init()}))},init:function(){var e=this,t=new m.a("#div1");t.config.height=600,t.config.pasteFilterStyle=!1,t.config.onchange=function(t){e.checkData.content=t},t.config.menus=["head","bold","fontSize","fontName","italic","underline","strikeThrough","indent","lineHeight","foreColor","backColor","link","list","todo","justify","quote","image","video","table","code","splitLine","undo","redo"],t.config.uploadImgHeaders={Authorization:h["a"].ls.get(f["a"])},t.config.uploadFileName="file",t.config.uploadImgServer="/api/wx-api/health/wx/"+u["a"]+"/uploadInnerImg",t.config.uploadVideoName="file",t.config.uploadVideoServer="/api/content-api/fileUpload/uploadVideoFileForEdit",t.config.uploadVideoHeaders={Authorization:h["a"].ls.get(f["a"])},t.create()},getHospitalLevel:function(){var e=this;Object(c["Kc"])().then((function(t){0==t.code&&(e.HospitalLevelList=t.data)})).finally((function(t){e.confirmLoading=!1}))},getHospitalType:function(){var e=this;Object(c["Mc"])().then((function(t){0==t.code&&(e.HospitalTypeList=t.data)})).finally((function(t){e.confirmLoading=!1}))},uploadFile:function(){},handlePreview:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.url||e.preview){a.next=4;break}return a.next=3,t.getBase64(e.originFileObj);case 3:e.preview=a.sent;case 4:t.previewImage=e.url||e.preview,t.previewVisible=!0;case 6:case"end":return a.stop()}}),a)})))()},handleChange:function(e){"done"==e.file.status&&0!=e.file.response.code?(this.$message.error(e.file.response.message),e.fileList.pop(),this.fileList=e.fileList):this.fileList=e.fileList},addTenant:function(){var e=this;this.confirmLoading=!0,Object(c["hd"])(this.queryParams).then((function(t){0==t.code&&t.success?(e.visible=!1,e.$message.success("新增成功"),e.$emit("ok")):e.$message.error("新增失败:"+t.message)})).finally((function(t){e.confirmLoading=!1}))},formatDateOut:function(e){e=new Date(e);var t=e.getFullYear(),a=e.getMonth()+1,i=e.getDate();return a<10&&(a="0"+a),i<10&&(i="0"+i),"".concat(t,"-").concat(a,"-").concat(i)},removeDuplicate:function(e){var t=[];return null!=e&&e.length>0&&e.forEach((function(e){t.includes(e)||t.push(e)})),t},radioChange:function(e){1==e.target.value?this.rangeValue="1":2==e.target.value&&(this.rangeValue="2")},reset:function(){this.queryParams.adminAccount="",this.queryParams.adminName="",this.queryParams.email="",this.queryParams.expireDate="",this.queryParams.hospitalName="",this.queryParams.hospitalCode="",this.queryParams.phone="",this.queryParams.tenantName="",this.queryParams.tenantCode="",this.queryParams.applicationIds=[]},handleCancel:function(){this.visible=!1},handleSubmit:function(){this.queryParams.adminAccount?this.queryParams.adminName?this.queryParams.email?this.queryParams.expireDate?this.queryParams.hospitalName?this.queryParams.hospitalCode?this.queryParams.phone?this.queryParams.tenantName?this.queryParams.tenantCode?this.queryParams.applicationIds?this.addTenant():this.$message.$error("请选择对应应用权限"):this.$message.$error("请输入租户编码"):this.$message.$error("请输入租户名称"):this.$message.$error("请输入手机号码"):this.$message.$error("请输入机构编码"):this.$message.$error("请输入机构名称"):this.$message.$error("请选择到期日期"):this.$message.$error("请输入邮箱地址"):this.$message.$error("请输入管理员姓名"):this.$message.$error("请输入管理员账号")}}},g=y,v=(a("5abf"),a("36c0"),a("2877")),x=Object(v["a"])(g,i,s,!1,null,null,null);t["default"]=x.exports}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-770c3aa7"],{c3b8c:function(e,a,t){"use strict";t.r(a);var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("a-modal",{attrs:{title:"属性配置",width:900,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[t("a-spin",{attrs:{spinning:e.confirmLoading}},[t("a-form",{attrs:{form:e.form}},[t("a-form-item",{attrs:{label:"服务时效（小时）",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["serviceExpire",{rules:[{required:!0,message:"请输入服务时效！"}]}],expression:"['serviceExpire', { rules: [{ required: true, message: '请输入服务时效！' }] }]"}],attrs:{min:1,max:1e6,placeholder:"请输入"}})],1),t("a-form-item",{attrs:{label:"时长限制（分钟）",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["timeLimit",{rules:[{required:e.isTimeLimit,message:"请输入时长限制！"}]}],expression:"['timeLimit', { rules: [{ required: isTimeLimit, message: '请输入时长限制！' }] }]"}],attrs:{min:1,max:1e6,placeholder:"请输入"}})],1),t("a-form-item",{attrs:{label:"条数限制（条）",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["textNumLimit",{rules:[{required:e.isTextNumLimit,message:"请输入条数限制！"}]}],expression:"['textNumLimit', { rules: [{ required: isTextNumLimit, message: '请输入条数限制！' }] }]"}],attrs:{min:0,max:1e6,placeholder:"请输入"}})],1),t("a-form-item",{attrs:{label:"个案介入",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[t("a-switch",{attrs:{checked:e.isCaseFlag,disabled:e.isDisabled},on:{change:e.onChangeCase}})],1),t("a-form-item",{attrs:{label:"服务对象",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[t("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["whoDeal",{rules:[{required:!0,message:"请选择服务对象！"}]}],expression:"['whoDeal', { rules: [{ required: true, message: '请选择服务对象！' }] }]"}],attrs:{name:"radioGroup","default-value":1},on:{change:e.onChange}},[t("a-radio",{attrs:{value:1}},[e._v(" 医生 ")]),t("a-radio",{staticStyle:{width:"100px"},attrs:{value:2}},[e._v(" 护士 ")])],1)],1),t("a-form-item",{attrs:{label:e.serviceName,labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[t("div",{staticClass:"div-text-auto"},[t("a-auto-complete",{staticClass:"global-search",staticStyle:{width:"100%","font-size":"14px"},attrs:{size:"large",placeholder:"请输入并选择","option-label-prop":"title"},on:{select:e.onSelect,search:e.handleSearch},model:{value:e.chooseDeptItem.userName,callback:function(a){e.$set(e.chooseDeptItem,"userName",a)},expression:"chooseDeptItem.userName"}},[t("template",{slot:"dataSource"},e._l(e.keshiDataTemp,(function(a){return t("a-select-option",{key:a.userId+"",attrs:{title:a.userName}},[e._v(" "+e._s(a.userName)+" ")])})),1)],2)],1)])],1)],1)],1)},s=[],r=(t("7db0"),t("d3b7"),t("4de4"),t("4cab")),o=t("9fb0"),l=t("2b0e"),n={data:function(){return{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:15}},visible:!1,statusData:[],isCaseFlag:!0,caseFlag:1,confirmLoading:!1,form:this.$form.createForm(this),queryParam:{departmentId:0,userType:"doctor"},index:0,docId:"",serviceName:"服务医生",whoDeal:"doctor",chooseDeptItem:{},originData:[],keshiData:[],keshiDataTemp:[],item:{},isTimeLimit:!1,isTextNumLimit:!1,isDisabled:!1}},created:function(){this.getDocs()},methods:{getDocs:function(e){var a=this;Object(r["lb"])(this.queryParam).then((function(t){a.originData=t.data,a.keshiData=JSON.parse(JSON.stringify(a.originData)),a.keshiDataTemp=JSON.parse(JSON.stringify(a.originData)),a.chooseDeptItem=e?JSON.parse(JSON.stringify(a.originData.find((function(e){return e.userId==a.docId})))):JSON.parse(JSON.stringify(a.originData[0])),a.docId=a.chooseDeptItem.userId}))},edit:function(e,a){var t=this;this.visible=!0,this.docId="",this.isCaseFlag=!0,this.chooseDeptItem={},this.item={},this.isTextNumLimit=!1,this.isTimeLimit=!1,this.isDisabled=!1,setTimeout((function(){t.form.setFieldsValue({serviceExpire:void 0,timeLimit:void 0,textNumLimit:void 0})}),100),this.index=e,this.item=a,"ICUConsultNum"!=this.item.attrName&&"1"!=this.item.plusInfoVo.uploadDocFlag||(this.isDisabled=!0),"textNum"==this.item.attrName||"appointNum"==this.item.attrName?this.isTextNumLimit=!0:"videoNum"!=this.item.attrName&&"telNum"!=this.item.attrName||(this.isTimeLimit=!0);var i=l["a"].ls.get(o["o"]);"doctor"==i.roleName&&(this.chooseDeptItem=JSON.parse(JSON.stringify(this.originData.find((function(e){return e.userId==i.userId})))),this.docId=i.userId),setTimeout((function(){var e;"nurse"==a.plusInfoVo.whoDeal?(e=2,t.whoDeal="nurse",t.serviceName="服务护士"):(e=1,t.whoDeal="doctor",t.serviceName="服务医生"),t.form.setFieldsValue({serviceExpire:a.plusInfoVo.serviceExpire,timeLimit:a.plusInfoVo.timeLimit,textNumLimit:a.plusInfoVo.textNumLimit,whoDeal:e}),t.docId=a.plusInfoVo.docId,a.plusInfoVo.caseFlag?t.caseFlag=a.plusInfoVo.caseFlag:t.caseFlag=0,t.isCaseFlag=1==t.caseFlag,t.queryParam.userType=t.whoDeal,t.getDocs(!0)}),100)},onChangeCase:function(){this.isCaseFlag=!this.isCaseFlag,this.caseFlag=this.isCaseFlag?1:0},onChange:function(e){1==e.target.value?(this.serviceName="服务医生",this.whoDeal="doctor"):(this.serviceName="服务护士",this.whoDeal="nurse"),this.queryParam.userType=this.whoDeal,this.getDocs()},handleSubmit:function(){var e=this,a=this.form.validateFields;a((function(a,t){if(!a){if(!e.docId&&!e.isCaseFlag)return void e.$message.error("请选择服务医生！");e.$set(t,"docId",e.docId),e.$set(t,"caseFlag",e.caseFlag),e.$set(t,"whoDeal",e.whoDeal),e.visible=!1,e.$emit("ok",e.index,t)}}))},handleCancel:function(){this.form.resetFields(),this.visible=!1},handleSearch:function(e){e?this.keshiDataTemp=this.originData.filter((function(a){return-1!=a.userName.indexOf(e)})):(this.keshiDataTemp=JSON.parse(JSON.stringify(this.originData)),this.docId="")},onSelect:function(e,a){this.chooseDeptItem=JSON.parse(JSON.stringify(this.originData.find((function(a){return a.userId==e})))),this.docId=this.chooseDeptItem.userId}}},m=n,c=t("2877"),u=Object(c["a"])(m,i,s,!1,null,null,null);a["default"]=u.exports}}]);
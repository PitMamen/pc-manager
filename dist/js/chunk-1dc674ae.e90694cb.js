(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1dc674ae"],{"389a":function(t,i,a){"use strict";a.r(i);var s=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("a-modal",{attrs:{title:"",width:900,visible:t.visible,confirmLoading:t.confirmLoading,footer:null},on:{ok:t.handleSubmit,cancel:t.handleCancel}},[a("a-spin",{attrs:{spinning:t.confirmLoading}},[a("div",{staticClass:"div-order-detail",attrs:{id:"printContent"}},[a("h2",[t._v("详情")]),a("div",{staticClass:"div-line-wrap"},[a("span",{staticClass:"span-item-name"},[t._v(" 患者 :")]),a("span",{staticClass:"span-item-value"},[t._v(t._s(t.userInfo.userName)+" ")]),a("span",{staticClass:"span-item-name",staticStyle:{"margin-left":"3%"}},[t._v(" 诊疗卡号 :")]),a("span",{staticClass:"span-item-value",staticStyle:{"margin-left":"-5%"}},[t._v(t._s(t.userInfo.cardNo))])]),a("div",{staticClass:"div-line-wrap"},[a("span",{staticClass:"span-item-name"},[t._v(" 身份证号码 :")]),a("span",{staticClass:"span-item-value"},[t._v(t._s(t.idcardNo)+" ")]),a("span",{staticClass:"span-item-name",staticStyle:{"margin-left":"3%"}},[t._v(" 电话号码 :")]),a("span",{staticClass:"span-item-value",staticStyle:{"margin-left":"-5%"}},[t._v(t._s(t.userInfo?t.subStringPhoneNo(t.userInfo.phone):"")+" ")])]),a("div",{staticClass:"div-line-wrap"},[a("span",{staticClass:"span-item-name"},[t._v(" 紧急联系电话 :")]),a("span",{staticClass:"span-item-value"},[t._v(t._s("")+" ")])]),a("div",{staticClass:"div-divider"})])]),a("a-timeline",{staticStyle:{"margin-left":"5%","margin-top":"5%"},attrs:{mode:"left"}},t._l(t.detailDataList,(function(i,s){return a("a-timeline-item",{key:s},[a("div",[t._v(" "+t._s(i.type)+" "+t._s(i.time)+" "),"失访"==i.type?a("div",{staticStyle:{"margin-left":"2%","margin-top":"1%"}},[t._v("失访原因："+t._s(i.desc))]):t._e(),"完成计划"==i.type?a("div",{staticClass:"div-detail",on:{click:function(a){return t.goDetail(i.data)}}},[t._v("问卷详情")]):t._e()])])})),1)],1)},e=[],n=(a("ac1f"),a("5319"),a("d3b7"),a("4cab")),r={data:function(){return{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:15}},visible:!1,confirmLoading:!1,preNo:0,total:0,detailDataList:[],userInfo:"",idcardNo:""}},methods:{edit:function(t){this.detailDataList=[],this.total=0,this.visible=!0,this.preNo=t,this.qryRevisitDetail(t)},goDetail:function(t){t=t.replace("/s/","/r/")+"?userId="+this.userInfo.userId+"&showsubmitbtn=hide",window.open(t,"_blank")},qryRevisitDetail:function(t){var i=this;this.confirmLoading=!0,Object(n["Ac"])({id:t}).then((function(t){t.success?(i.detailDataList=t.data.revisitRecord,i.userInfo=t.data.userInfo,i.userInfo&&(i.idcardNo=i.subStringIdcardNo(t.data.userInfo.identificationNo))):i.$message.error("请求失败："+t.message)})).finally((function(t){i.confirmLoading=!1}))},subStringIdcardNo:function(t){if(t){var i=t.substring(4,15);return t.replace(i,"***********")}return""},subStringPhoneNo:function(t){if(t){var i=t,a=/(\d{3})\d*(\d{4})/;return i.replace(a,"$1****$2")}return""},handleSubmit:function(){},handleCancel:function(){this.visible=!1}}},l=r,o=(a("bdef"),a("2877")),c=Object(o["a"])(l,s,e,!1,null,null,null);i["default"]=c.exports},"5e99":function(t,i,a){},bdef:function(t,i,a){"use strict";a("5e99")}}]);
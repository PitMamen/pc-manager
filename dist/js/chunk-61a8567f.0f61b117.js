(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61a8567f"],{"224d":function(e,t,a){},"608d":function(e,t,a){"use strict";a("224d")},c733:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"div-service-pac"},[a("a-card",{staticClass:"card-right-pac",attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:3,sm:24}},[a("span",{staticClass:"table-page-search-submitButtons",style:e.advanced&&{float:"right",overflow:"hidden"}||{}},[a("a-button",{attrs:{type:"primary"},on:{click:e.newPackage}},[e._v("新增套餐")])],1)]),a("a-col",{attrs:{md:6,sm:24}},[a("a-form-item",{attrs:{label:"所属类别"}},[a("a-select",{attrs:{"allow-clear":"",placeholder:"请选择所属类别"},model:{value:e.queryParams.goodsClass,callback:function(t){e.$set(e.queryParams,"goodsClass",t)},expression:"queryParams.goodsClass"}},e._l(e.goodClasses,(function(t,s){return a("a-select-option",{key:s,attrs:{value:t.classId}},[e._v(e._s(t.className))])})),1)],1)],1),a("a-col",{attrs:{md:6,sm:24}},[a("a-form-item",{attrs:{label:"上架状态"}},[a("a-select",{attrs:{"allow-clear":"",placeholder:"请选择状态"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.onlineData,(function(t,s){return a("a-select-option",{key:s,attrs:{value:t.code}},[e._v(e._s(t.value))])})),1)],1)],1),a("a-col",{attrs:{md:6,sm:24}},[a("a-form-item",{attrs:{label:"关键字"}},[a("a-input",{attrs:{"allow-clear":"",placeholder:"请输入套餐关键字"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$refs.table.refresh(!0)}},model:{value:e.queryParams.keyWords,callback:function(t){e.$set(e.queryParams,"keyWords",t)},expression:"queryParams.keyWords"}})],1)],1),a("a-col",{attrs:{md:3,sm:24}},[a("span",{staticClass:"table-page-search-submitButtons",style:e.advanced&&{float:"right",overflow:"hidden"}||{}},[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.$refs.table.refresh(!0)}}},[e._v("查询")])],1)])],1)],1)],1),a("s-table",{ref:"table",attrs:{size:"default",columns:e.columns,data:e.loadData,alert:!0,rowKey:function(e){return e.code}},scopedSlots:e._u([{key:"action",fn:function(t,s){return a("span",{},[a("a",{on:{click:function(t){return e.goCheck(s)}}},[e._v("查看")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.goChange(s)}}},[e._v("修改")]),a("a-divider",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"vertical"}}),a("a-popconfirm",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{title:"确定删除套餐吗？","ok-text":"确定","cancel-text":"取消"},on:{confirm:function(t){return e.goDelete(s)}}},[a("a",[e._v("删除")])])],1)}},{key:"ifOnline",fn:function(t,s){return a("span",{},[a("a-popconfirm",{attrs:{title:s.isOnlineText,"ok-text":"确定","cancel-text":"取消"},on:{confirm:function(t){return e.goOnline(s)}}},[a("a-switch",{attrs:{checked:s.isOnline}})],1)],1)}},{key:"ifSuggest",fn:function(t,s){return a("span",{},[a("a-popconfirm",{attrs:{title:s.isSuggestText,"ok-text":"确定","cancel-text":"取消"},on:{confirm:function(t){return e.goSuggest(s)}}},[a("a-switch",{attrs:{checked:s.isSuggest}})],1)],1)}}])})],1)],1)},o=[],n=a("ade3"),r=a("2af9"),i=a("4cab"),c={components:{STable:r["s"]},computed:{rowSelection:function(){return{onChange:this.onSelectChange,getCheckboxProps:function(e){return{props:{disabled:!e.userId,name:e.userId}}}}},hasSelected:function(){return this.selectedRowKeys.length>0}},data:function(){var e=this;return{selectedRowKeys:[],advanced:!1,isSuggestText:"确定推荐？",isOnlineText:"",keshiData:[],onlineData:[{code:1,value:"正常"},{code:2,value:"待上架"},{code:3,value:"下架"}],suggestData:[{code:1,value:"推荐"},{code:0,value:"不推荐"}],partChoose:"",queryParams:{belong:void 0,status:void 0,topFlag:void 0,keyWords:void 0},columns:[{title:"序号",dataIndex:"xh"},{title:"套餐名称",dataIndex:"goodsName"},{title:"所属类别",dataIndex:"classNameOut"},{title:"是否上架",dataIndex:"ifOnline",scopedSlots:{customRender:"ifOnline"}},{title:"操作",width:"150px",dataIndex:"action",scopedSlots:{customRender:"action"}}],loadDataOut:[],loadData:function(t){return Object(i["Fb"])(Object.assign(t,e.queryParams)).then((function(t){for(var a=0;a<t.data.rows.length;a++)e.$set(t.data.rows[a],"xh",a+1+(t.data.pageNo-1)*t.data.pageSize),t.data.rows[a].goodsClassInfo&&e.$set(t.data.rows[a],"classNameOut",t.data.rows[a].goodsClassInfo.className),1==t.data.rows[a].topFlag?(e.$set(t.data.rows[a],"isSuggest",!0),e.$set(t.data.rows[a],"isSuggestText","确定取消推荐？")):(e.$set(t.data.rows[a],"isSuggest",!1),e.$set(t.data.rows[a],"isSuggestText","确定推荐？")),1==t.data.rows[a].status?(e.$set(t.data.rows[a],"isOnline",!0),e.$set(t.data.rows[a],"isOnlineText","确定下架？")):(e.$set(t.data.rows[a],"isOnline",!1),e.$set(t.data.rows[a],"isOnlineText","确定上架？"));return e.loadDataOut=t.data,t.data}))},selectedRows:[],goodClasses:[]}},created:function(){var e=this;this.getKeShi(),Object(i["oc"])({pageNo:1,pageSize:80}).then((function(t){0==t.code?e.goodClasses=t.data.rows:e.$message.error(t.message)}))},methods:Object(n["a"])({onSelectChange:function(e){this.selectedRowKeys=e},goOnline:function(e){var t=this;1==e.status?e.status=3:e.status=1;var a={templateId:e.templateId,goodsInfo:{goodsId:e.goodsId,status:e.status}};Object(i["Tc"])(a).then((function(a){0==a.code?(t.$message.success("操作成功"),e.isOnline=!e.isOnline,setTimeout((function(){e.isOnlineText=e.isOnline?"确定下架？":"确定上架？"}),200)):t.$message.error(a.message)}))},goSuggest:function(e){var t=this;1==e.topFlag?e.topFlag=0:e.topFlag=1;var a={templateId:e.templateId,goodsInfo:{goodsId:e.goodsId,topFlag:e.topFlag}};Object(i["Tc"])(a).then((function(a){0==a.code?(t.$message.success("操作成功"),e.isSuggest=!e.isSuggest,setTimeout((function(){e.isSuggestText=e.isSuggest?"确定取消推荐？":"确定推荐？"}),200)):t.$message.error(a.message)}))},getKeShi:function(){var e=this;Object(i["Cc"])("444885559").then((function(t){0==t.code?e.keshiData=t.data:e.$message.error("获取科室列表失败："+t.message)}))},newPackage:function(){this.$router.push({name:"package_new"})},goCheck:function(e){this.$router.push({name:"package_look",query:{planId:e.templateId}})},goChange:function(e){this.$router.push({name:"package_edit",query:{planId:e.templateId}})},handleOk:function(){this.$refs.table.refresh()}},"onSelectChange",(function(e,t){this.selectedRowKeys=e,this.selectedRows=t}))},l=c,u=(a("608d"),a("2877")),d=Object(u["a"])(l,s,o,!1,null,null,null);t["default"]=d.exports}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ee46ebe","chunk-63ab5f1e","chunk-1dc674ae","chunk-2d2167e5","chunk-2d0b9dd0","chunk-2d221bf9","chunk-2d0b32ba"],{"04a0":function(e,t,a){},"1da1":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a("d3b7");function s(e,t,a,s,i,r,n){try{var l=e[r](n),o=l.value}catch(c){return void a(c)}l.done?t(o):Promise.resolve(o).then(s,i)}function i(e){return function(){var t=this,a=arguments;return new Promise((function(i,r){var n=e.apply(t,a);function l(e){s(n,i,r,l,o,"next",e)}function o(e){s(n,i,r,l,o,"throw",e)}l(void 0)}))}}},2055:function(e,t,a){e.exports=a.p+"img/img5.339c3517.png"},"26dd":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"修改医生用户",width:900,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{staticStyle:{display:"none"},attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["id"],expression:"['id']"}]})],1),a("a-form-item",{attrs:{label:"姓名",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["xm",{rules:[{required:!0,message:"请输入姓名！"}]}],expression:"['xm', { rules: [{ required: true, message: '请输入姓名！' }] }]"}],attrs:{disabled:"",placeholder:"请输入姓名"}})],1),a("a-form-item",{attrs:{label:"性别",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["xb",{rules:[{required:!0,message:"请选择性别！"}]}],expression:"['xb', { rules: [{ required: true, message: '请选择性别！' }] }]"}],attrs:{name:"radioGroup","default-value":1}},[a("a-radio",{attrs:{value:1}},[e._v(" 男 ")]),a("a-radio",{staticStyle:{width:"100px"},attrs:{value:2}},[e._v(" 女 ")])],1)],1),a("a-form-item",{attrs:{label:"所属机构科室",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["jg",{rules:[{required:!0,message:"请选择机构"}]}],expression:"['jg', { rules: [{ required: true, message: '请选择机构' }] }]"}],attrs:{"allow-clear":"",placeholder:"湘雅附二医院"}},e._l(e.hosData,(function(t,s){return a("a-select-option",{key:s,attrs:{value:t.code}},[e._v(e._s(t.value))])})),1)],1),a("a-form-item",{attrs:{label:"科室",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["ssks",{rules:[{required:!0,message:"请选择科室"}]}],expression:"['ssks', { rules: [{ required: true, message: '请选择科室' }] }]"}],attrs:{"allow-clear":"",placeholder:"请选择科室"},on:{select:e.onSelected}},e._l(e.keshiData,(function(t,s){return a("a-select-option",{key:s,attrs:{value:t.yyksdm}},[e._v(e._s(t.yyksmc))])})),1)],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"职称","has-feedback":""}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["zhic",{rules:[{required:!0,message:"请输入职称！"}]}],expression:"['zhic', { rules: [{ required: true, message: '请输入职称！' }] }]"}],attrs:{placeholder:"请输入职称"}})],1),a("a-form-item",{attrs:{label:"手机号码",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["tel",{rules:[{required:!0,message:"请输入手机号码！"}]}],expression:"['tel', { rules: [{ required: true, message: '请输入手机号码！' }] }]"}],attrs:{placeholder:"请输入手机号码"}})],1)],1)],1)],1)},i=[],r=(a("99af"),a("d3b7"),a("4cab")),n={data:function(){return{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:15}},keshiData:[],hosData:[{code:"444885559",value:"湘雅附二医院"}],visible:!1,confirmLoading:!1,form:this.$form.createForm(this)}},created:function(){this.getKeShi()},methods:{edit:function(e){var t=this;this.visible=!0,setTimeout((function(){t.form.setFieldsValue({id:e.id,xm:e.xm,jg:"湘雅附二医院",ssks:e.ssks,zhic:e.zhic,tel:e.tel}),"男"!=e.xb&&e.xb?t.form.setFieldsValue({xb:2}):t.form.setFieldsValue({xb:1})}),100)},onSelected:function(e){for(var t=0;t<this.keshiData.length;t++)this.keshiData[t].yyksdm==e&&(this.seletSsksName=this.keshiData[t].yyksmc)},getKeShi:function(){var e=this;Object(r["pb"])({hospitalCode:"444885559"}).then((function(t){if(t.success){for(var a=[],s=0;s<t.data.length;s++)t.data[s].departmentList&&t.data[s].departmentList.length>0&&(a=a.concat(t.data[s].departmentList));e.keshiData=a}})).catch((function(e){}))},handleSubmit:function(){var e=this,t=this.form.validateFields;this.confirmLoading=!0,t((function(t,a){t?e.confirmLoading=!1:(1==a.xb?a.xb="男":a.xb="女",a.ssksName=e.seletSsksName,delete a.jg,Object(r["i"])(a).then((function(t){t.success?(e.$message.success("编辑成功"),e.visible=!1,e.confirmLoading=!1,e.$emit("ok",a),e.form.resetFields()):e.$message.error("编辑失败："+t.message)})).finally((function(t){e.confirmLoading=!1})))}))},handleCancel:function(){this.form.resetFields(),this.visible=!1}}},l=n,o=a("2877"),c=Object(o["a"])(l,s,i,!1,null,null,null);t["default"]=c.exports},2837:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:e.DealEnd?e.CheckEnd?"抽查详情":"抽查":"处理",width:900,visible:e.visible,confirmLoading:e.confirmLoading,footer:null},on:{cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("div",{staticClass:"div-appoint-detail"},[a("div",{staticClass:"div-line-wrap"},[a("span",{staticClass:"span-item-name"},[e._v("患者 :")]),a("span",{staticClass:"span-item-value"},[e._v(e._s(e.patientInfo.baseInfo.userName)+" ")]),a("span",{staticClass:"span-item-name",staticStyle:{"margin-left":"3%"}},[e._v(" 身份证号 :")]),a("span",{staticClass:"span-item-value"},[e._v(e._s(e.patientInfo?e.subStringIdcardNo(e.patientInfo.baseInfo.identificationNo):"")+" ")])]),a("div",{staticClass:"div-line-wrap"},[a("span",{staticClass:"span-item-name"},[e._v(" 电话号码 :")]),a("span",{staticClass:"span-item-value"},[e._v(e._s(e.patientInfo.externalInfo.phone)+" ")]),a("span",{staticClass:"span-item-name",staticStyle:{"margin-left":"3%"}},[e._v(" 紧急联系电话 :")]),a("span",{staticClass:"span-item-value"})]),a("div",{staticClass:"div-line-wrap"},[a("span",{staticClass:"span-item-name"},[e._v(" 所在病区 :")]),a("span",{staticClass:"span-item-value"},[e._v(e._s(e.szbq)+" ")]),a("span",{staticClass:"span-item-value"})]),a("div",{staticClass:"div-divider"}),e.DealEnd?a("div",[a("div",{staticClass:"div-line-wrap"},[a("span",{staticClass:"span-item-name"},[e._v(" 处理人 :")]),a("span",{staticClass:"span-item-value"},[e._v(e._s(e.handleName)+" ")]),a("span",{staticClass:"span-item-name",staticStyle:{"margin-left":"3%"}},[e._v(" 处理时间 :")]),a("span",{staticClass:"span-item-value"},[e._v(e._s(e.handleTime)+" ")])]),a("div",{staticClass:"div-line-wrap"},[a("span",{staticClass:"span-item-name"},[e._v(" 处理措施 :")]),a("span",{staticClass:"span-item-value"},[e._v(e._s(0===e.radioTyPe?"填写问卷":"失访"))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.radioTyPe,expression:"radioTyPe === 1"}],staticClass:"div-line-wrap"},[a("span",{staticClass:"span-item-name"},[e._v(" 失访理由 :")]),a("span",{staticClass:"span-item-value"},[e._v(e._s(e.handleResult))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:0===e.radioTyPe,expression:"radioTyPe === 0"}],staticStyle:{"min-height":"500px","overflow-y":"auto"}},[a("iframe",{staticStyle:{width:"100%","min-height":"500px",overflow:"scroll"},attrs:{src:e.questionUrl,frameborder:"0",scrolling:"yes"}})])]):e._e(),e.DealEnd?e._e():a("div",[a("div",{staticClass:"div-line-wrap"},[a("span",{staticClass:"span-item-name"},[e._v(" 处理人 :")]),a("a-input",{staticClass:"span-item-value",staticStyle:{display:"inline-block"},attrs:{maxLength:30,"allow-clear":"",placeholder:"请填写处理人姓名"},model:{value:e.handleName,callback:function(t){e.handleName=t},expression:"handleName"}}),a("span",{staticClass:"span-item-name",staticStyle:{"margin-left":"3%"}},[e._v(" 处理时间 :")]),a("span",{staticClass:"span-item-value"},[e._v(e._s(e.handleTime)+" ")])],1),a("div",{staticClass:"div-line-wrap"},[a("span",{staticClass:"span-item-name"},[e._v(" 处理措施 :")]),a("span",{staticClass:"span-item-value"},[e._v(e._s(e.record.reqDocName)+" ")]),a("a-radio-group",{staticStyle:{width:"300px","margin-left":"-30%"},attrs:{name:"radioGroup","default-value":e.radioTyPe},on:{change:e.radioChange}},[a("a-radio",{attrs:{value:0}},[e._v(" 填写问卷 ")]),a("a-radio",{attrs:{value:1}},[e._v(" 失访 ")])],1),a("span",{staticClass:"span-item-value"},[e._v(e._s(e.record.diagnosis)+" ")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.radioTyPe,expression:"radioTyPe === 1"}],staticClass:"div-line-wrap"},[a("span",{staticClass:"span-item-name"},[e._v(" 失访理由 :")]),a("a-input",{staticClass:"span-item-value",staticStyle:{display:"inline-block",width:"80%"},attrs:{"allow-clear":"",placeholder:"请填写失访理由"},model:{value:e.handleResult,callback:function(t){e.handleResult=t},expression:"handleResult"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:0===e.radioTyPe,expression:"radioTyPe === 0"}],staticStyle:{"margin-top":"50rpx","min-height":"500px","overflow-y":"auto"}},[a("iframe",{staticStyle:{width:"100%","min-height":"500px",overflow:"scroll"},attrs:{src:e.questionUrl,frameborder:"0",scrolling:"yes"}})]),a("div",{staticStyle:{"margin-top":"50px"}},[a("a-button",{staticStyle:{"margin-left":"35%",width:"30%"},attrs:{size:"large",type:"primary"},on:{click:e.goConfirm}},[e._v(" 处理完成 ")])],1)]),e.DealEnd&&!e.CheckEnd?a("div",[a("div",{staticClass:"div-line-wrap"},[a("span",{staticClass:"span-item-name"},[e._v(" 抽查人 :")]),a("a-input",{staticClass:"span-item-value",staticStyle:{display:"inline-block"},attrs:{maxLength:30,"allow-clear":"",placeholder:"请填写抽查人姓名"},model:{value:e.checkName,callback:function(t){e.checkName=t},expression:"checkName"}}),a("span",{staticClass:"span-item-name",staticStyle:{"margin-left":"3%"}},[e._v(" 抽查时间 :")]),a("span",{staticClass:"span-item-value"},[e._v(e._s(e.checkTime)+" ")])],1),a("div",{staticClass:"div-line-wrap"},[a("span",{staticClass:"span-item-name"},[e._v(" 抽查结果 :")]),a("a-input",{staticClass:"span-item-value",staticStyle:{display:"inline-block",width:"80%"},attrs:{"allow-clear":"",placeholder:"请填写抽查结果"},model:{value:e.checkResult,callback:function(t){e.checkResult=t},expression:"checkResult"}})],1),a("div",{staticStyle:{"margin-top":"50px"}},[a("a-button",{staticStyle:{"margin-left":"35%",width:"30%"},attrs:{size:"large",type:"primary"},on:{click:e.gocheck}},[e._v(" 确定 ")])],1)]):e._e(),e.CheckEnd?a("div",[a("div",{staticClass:"div-line-wrap"},[a("span",{staticClass:"span-item-name"},[e._v(" 抽查人 :")]),a("span",{staticClass:"span-item-value"},[e._v(e._s(e.checkName)+" ")]),a("span",{staticClass:"span-item-name",staticStyle:{"margin-left":"3%"}},[e._v(" 抽查时间 :")]),a("span",{staticClass:"span-item-value"},[e._v(e._s(e.checkTime)+" ")])]),a("div",{staticClass:"div-line-wrap"},[a("span",{staticClass:"span-item-name"},[e._v(" 抽查结果 :")]),a("span",{staticClass:"span-item-value"},[e._v(e._s(e.checkResult))])])]):e._e(),a("div",{staticStyle:{height:"50px","backgroud-color":"white"}})])])],1)},i=[],r=a("1da1"),n=a("ade3"),l=(a("16c9"),a("387a")),o=(a("96cf"),a("b0c0"),a("99af"),a("ac1f"),a("5319"),a("d3b7"),a("4cab")),c={components:Object(n["a"])({},l["a"].Item.name,l["a"].Item),data:function(){return{DealEnd:!1,CheckEnd:!1,patientId:"",planId:"",patientInfo:{baseInfo:{identificationNo:"",userName:""},externalInfo:{phone:""}},szbq:"",radioTyPe:0,handleName:"",handleTime:"",handleResult:"",checkTime:"",checkName:"",checkResult:"",questionTaskContent:{},questionUrl:"",labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:15}},visible:!1,confirmLoading:!1,form:this.$form.createForm(this),record:{},previewImageDetail:"",previewVisibleDetail:!1}},methods:{formatDate:function(e){e=new Date(e);var t=e.getFullYear(),a=e.getMonth()+1,s=e.getDate();return a<10&&(a="0"+a),s<10&&(s="0"+s),"".concat(t,"-").concat(a,"-").concat(s)},doDeal:function(e){this.record=e,this.patientId=e.userId,this.visible=!0,this.planId=e.planId,this.szbq=e.ksmc===e.bqmc?e.ksmc:e.ksmc+e.bqmc,this.handleTime=this.formatDate(new Date),this.getPatientBaseInfo(),this.getQueryHealthPlanTaskList()},doCheck:function(e){this.record=e,this.patientId=e.userId,this.visible=!0,this.planId=e.planId,this.szbq=e.ksmc===e.bqmc?e.ksmc:e.ksmc+e.bqmc,this.DealEnd=!0,this.checkTime=this.formatDate(new Date),this.getPatientBaseInfo(),this.getDealInfo(),this.getQueryHealthPlanTaskList()},checkInfo:function(e){this.record=e,this.patientId=e.userId,this.visible=!0,this.planId=e.planId,this.szbq=e.ksmc===e.bqmc?e.ksmc:e.ksmc+e.bqmc,this.DealEnd=!0,this.CheckEnd=!0,this.getPatientBaseInfo(),this.getDealInfo(),this.getCheckInfo(),this.getQueryHealthPlanTaskList()},getPatientBaseInfo:function(){var e=this;Object(o["ab"])({userId:this.patientId}).then((function(t){0===t.code?e.patientInfo=t.data:e.$message.error(t.message)}))},subStringIdcardNo:function(e){if(e){var t=e.substring(4,15);return e.replace(t,"***********")}return""},subStringPhoneNo:function(e){var t=e,a=/(\d{3})\d*(\d{4})/;return t.replace(a,"$1****$2")},getQueryHealthPlanTaskList:function(){var e=this;Object(o["Fc"])({planId:this.planId}).then((function(t){if(0===t.code){for(var a=0;a<t.data.length;a++)for(var s=t.data[a],i=0;i<s.taskInfo.length;i++){var r=s.taskInfo[i];if("Quest"===r.planType){e.questionTaskContent=r;break}}e.questionTaskContent.contentId?e.getQueryHealthPlanContent():e.$message.error("随访问卷不存在")}else e.$message.error(t.message)}))},getQueryHealthPlanContent:function(){var e=this,t={contentId:this.questionTaskContent.contentId,planType:this.questionTaskContent.planType,userId:this.patientId};Object(o["Ec"])(t).then((function(t){if(0===t.code){e.questionTaskContent.questUrl=t.data.questUrl;var a=t.data.questUrl+"?userId="+e.patientId+"&groupId=&contentId="+e.questionTaskContent.contentId+"&execTime="+e.formatDate(new Date)+"&title="+t.data.questName;a=1===e.questionTaskContent.execFlag?a.replace("/s/","/r/"):a.replace("/r/","/s/"),e.questionUrl=a}else e.$message.error(t.message)}))},checkHealthPlanTaskEnd:function(){var e=this;Object(o["Fc"])({planId:this.planId}).then((function(t){if(0===t.code){for(var a=0;a<t.data.length;a++)for(var s=t.data[a],i=0;i<s.taskInfo.length;i++){var r=s.taskInfo[i];if(r.contentId===e.questionTaskContent.contentId){1===r.execFlag?e.dodealsave():e.$message.error("请先提交问卷");break}}e.questionTaskContent.contentId?e.getQueryHealthPlanContent():e.$message.error("随访问卷不存在")}else e.$message.error(t.message)}))},goConfirm:function(){if(""!==this.patientId)if(""!==this.planId)if(0!==this.handleName.length){if(0===this.radioTyPe)this.checkHealthPlanTaskEnd();else if(1===this.radioTyPe){if(0===this.handleResult.length)return void this.$message.info("请填写失访理由");this.dodealsave()}}else this.$message.info("请填写处理人姓名");else this.$message.error("计划ID为空");else this.$message.error("患者ID为空")},dodealsave:function(){var e=this,t={dealResult:this.handleResult,dealType:0===this.radioTyPe?1:2,dealUserName:this.handleName,ipNo:this.record.zyh,planId:this.planId,regNo:this.record.jzlsh,userId:this.patientId};Object(o["s"])(t).then((function(t){0===t.code?(e.$message.success("操作成功！"),e.visible=!1):e.$message.error(t.message)}))},getDealInfo:function(){var e=this;if(""!==this.patientId)if(""!==this.planId){var t={planId:this.planId,userId:this.patientId};Object(o["r"])(t).then((function(t){0===t.code?(e.radioTyPe="1"===t.data.dealType?0:1,e.handleName=t.data.dealUserName,e.handleResult=t.data.dealResult,e.handleTime=t.data.dealTime):e.$message.error(t.message)}))}else this.$message.error("计划ID为空");else this.$message.error("患者ID为空")},gocheck:function(){""!==this.patientId?""!==this.planId?0!==this.checkName.length?0!==this.checkResult.length?this.dochecksave():this.$message.info("请填写检查结果"):this.$message.info("请填写检查人姓名"):this.$message.error("计划ID为空"):this.$message.error("患者ID为空")},dochecksave:function(){var e=this,t={checkResult:this.checkResult,checkUserName:this.checkName,ipNo:this.record.zyh,planId:this.planId,regNo:this.record.jzlsh,userId:this.patientId};Object(o["n"])(t).then((function(t){0===t.code?(e.$message.success("操作成功！"),e.visible=!1):e.$message.error(t.message)}))},getCheckInfo:function(){var e=this;if(""!==this.patientId)if(""!==this.planId){var t={planId:this.planId,userId:this.patientId};Object(o["m"])(t).then((function(t){0===t.code?(e.checkName=t.data.checkUserName,e.checkResult=t.data.checkResult,e.checkTime=t.data.checkTime):e.$message.error(t.message)}))}else this.$message.error("计划ID为空");else this.$message.error("患者ID为空")},handleCancelDetail:function(){this.previewVisibleDetail=!1},handlePreviewDetail:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.url||e.preview){a.next=4;break}return a.next=3,t.getBase64(e.originFileObj);case 3:e.preview=a.sent;case 4:t.previewImageDetail=e.url||e.preview,t.previewVisibleDetail=!0;case 6:case"end":return a.stop()}}),a)})))()},getBase64:function(e){return new Promise((function(t,a){var s=new FileReader;s.readAsDataURL(e),s.onload=function(){return t(s.result)},s.onerror=function(e){return a(e)}}))},handleChangeDetail:function(e){e.fileList},handleCancel:function(){this.form.resetFields(),this.visible=!1},radioChange:function(e){this.radioTyPe=e.target.value}}},d=c,m=(a("9fd6"),a("2877")),u=Object(m["a"])(d,s,i,!1,null,null,null);t["default"]=u.exports},3190:function(e,t,a){e.exports=a.p+"img/img4.3e98ed72.png"},3580:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"新增职位",width:900,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{attrs:{label:"职位名称",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入职位名称！"}]}],expression:"['name', {rules: [{required: true, message: '请输入职位名称！'}]}]"}],attrs:{placeholder:"请输入职位名称"}})],1),a("a-form-item",{attrs:{label:"唯一编码",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["code",{rules:[{required:!0,message:"请输入唯一编码！"}]}],expression:"['code', {rules: [{required: true,  message: '请输入唯一编码！'}]}]"}],attrs:{placeholder:"请输入唯一编码"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"排序"}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["sort",{initialValue:100}],expression:"['sort', { initialValue: 100 }]"}],staticStyle:{width:"100%"},attrs:{placeholder:"请输入排序",min:1,max:1e3}})],1),a("a-form-item",{attrs:{label:"备注",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remark"],expression:"['remark']"}],attrs:{rows:4,placeholder:"请输入备注"}})],1)],1)],1)],1)},i=[],r=(a("d3b7"),a("4cab")),n={data:function(){return{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:15}},visible:!1,confirmLoading:!1,form:this.$form.createForm(this)}},methods:{add:function(e){this.visible=!0},handleSubmit:function(){var e=this,t=this.form.validateFields;this.confirmLoading=!0,t((function(t,a){t?e.confirmLoading=!1:Object(r["gd"])(a).then((function(t){t.success?(e.$message.success("新增成功"),e.visible=!1,e.confirmLoading=!1,e.$emit("ok",a),e.form.resetFields()):e.$message.error("新增失败："+t.message)})).finally((function(t){e.confirmLoading=!1}))}))},handleCancel:function(){this.form.resetFields(),this.visible=!1}}},l=n,o=a("2877"),c=Object(o["a"])(l,s,i,!1,null,null,null);t["default"]=c.exports},"389a":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"",width:900,visible:e.visible,confirmLoading:e.confirmLoading,footer:null},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("div",{staticClass:"div-order-detail",attrs:{id:"printContent"}},[a("h2",[e._v("详情")]),a("div",{staticClass:"div-line-wrap"},[a("span",{staticClass:"span-item-name"},[e._v(" 患者 :")]),a("span",{staticClass:"span-item-value"},[e._v(e._s(e.userInfo.userName)+" ")]),a("span",{staticClass:"span-item-name",staticStyle:{"margin-left":"3%"}},[e._v(" 诊疗卡号 :")]),a("span",{staticClass:"span-item-value",staticStyle:{"margin-left":"-5%"}},[e._v(e._s(e.userInfo.cardNo))])]),a("div",{staticClass:"div-line-wrap"},[a("span",{staticClass:"span-item-name"},[e._v(" 身份证号码 :")]),a("span",{staticClass:"span-item-value"},[e._v(e._s(e.idcardNo)+" ")]),a("span",{staticClass:"span-item-name",staticStyle:{"margin-left":"3%"}},[e._v(" 电话号码 :")]),a("span",{staticClass:"span-item-value",staticStyle:{"margin-left":"-5%"}},[e._v(e._s(e.userInfo?e.subStringPhoneNo(e.userInfo.phone):"")+" ")])]),a("div",{staticClass:"div-line-wrap"},[a("span",{staticClass:"span-item-name"},[e._v(" 紧急联系电话 :")]),a("span",{staticClass:"span-item-value"},[e._v(e._s("")+" ")])]),a("div",{staticClass:"div-divider"})])]),a("a-timeline",{staticStyle:{"margin-left":"5%","margin-top":"5%"},attrs:{mode:"left"}},e._l(e.detailDataList,(function(t,s){return a("a-timeline-item",{key:s},[a("div",[e._v(" "+e._s(t.type)+" "+e._s(t.time)+" "),"失访"==t.type?a("div",{staticStyle:{"margin-left":"2%","margin-top":"1%"}},[e._v("失访原因："+e._s(t.desc))]):e._e(),"完成计划"==t.type?a("div",{staticClass:"div-detail",on:{click:function(a){return e.goDetail(t.data)}}},[e._v("问卷详情")]):e._e()])])})),1)],1)},i=[],r=(a("ac1f"),a("5319"),a("d3b7"),a("4cab")),n={data:function(){return{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:15}},visible:!1,confirmLoading:!1,preNo:0,total:0,detailDataList:[],userInfo:"",idcardNo:""}},methods:{edit:function(e){this.detailDataList=[],this.total=0,this.visible=!0,this.preNo=e,this.qryRevisitDetail(e)},goDetail:function(e){e=e.replace("/s/","/r/")+"?userId="+this.userInfo.userId+"&showsubmitbtn=hide",window.open(e,"_blank")},qryRevisitDetail:function(e){var t=this;this.confirmLoading=!0,Object(r["xc"])({id:e}).then((function(e){e.success?(t.detailDataList=e.data.revisitRecord,t.userInfo=e.data.userInfo,t.userInfo&&(t.idcardNo=t.subStringIdcardNo(e.data.userInfo.identificationNo))):t.$message.error("请求失败："+e.message)})).finally((function(e){t.confirmLoading=!1}))},subStringIdcardNo:function(e){if(e){var t=e.substring(4,15);return e.replace(t,"***********")}return""},subStringPhoneNo:function(e){if(e){var t=e,a=/(\d{3})\d*(\d{4})/;return t.replace(a,"$1****$2")}return""},handleSubmit:function(){},handleCancel:function(){this.visible=!1}}},l=n,o=(a("bdef"),a("2877")),c=Object(o["a"])(l,s,i,!1,null,null,null);t["default"]=c.exports},"5e99":function(e,t,a){},"61aa":function(e,t,a){e.exports=a.p+"img/img1.e2e8aece.png"},"630f":function(e,t,a){},7583:function(e,t){e.exports="data:image/png;base64,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"},"85f4":function(e,t,a){"use strict";a.r(t);var s,i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("a-tabs",{attrs:{"default-active-key":"1"},on:{change:e.callback}},[s("a-tab-pane",{key:"1",attrs:{tab:"随访计划"}},[s("a-card",{attrs:{bordered:!1}},[e.hasPerm("sysPos:page")?s("div",{staticClass:"table-page-search-wrapper"},[s("a-form",{attrs:{layout:"inline"}},[s("a-row",{attrs:{gutter:48}},[s("a-col",{attrs:{md:3,sm:24}},[s("a-form-item",{attrs:{label:""}},[s("a-button",{attrs:{type:"primary"},on:{click:e.addPlan}},[e._v("新增计划")])],1)],1),s("a-col",{attrs:{md:7,sm:24}},[s("a-form-item",{attrs:{label:"科室"}},[s("a-select",{attrs:{"allow-clear":"",mode:"multiple",placeholder:"请选择科室"},model:{value:e.idArr,callback:function(t){e.idArr=t},expression:"idArr"}},e._l(e.originData,(function(t,a){return s("a-select-option",{key:a,attrs:{value:t.departmentId}},[e._v(e._s(t.departmentName))])})),1)],1)],1),s("a-col",{attrs:{md:6,sm:24}},[s("a-form-item",{attrs:{label:""}},[7==e.user.roleId||"admin"==e.user.roleName?s("a-button",{staticStyle:{"margin-right":"3%"},attrs:{type:"primary"},on:{click:e.reset}},[e._v("全院")]):e._e(),s("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.$refs.table.refresh(!0)}}},[e._v("查询")])],1)],1)],1)],1)],1):e._e(),s("s-table",{ref:"table",attrs:{size:"default",columns:e.columns,data:e.loadData,alert:!0,rowKey:function(e){return e.code}},scopedSlots:e._u([{key:"action",fn:function(t,a){return s("span",{},[s("a",{on:{click:function(t){return e.lookPlan(a)}}},[e._v("查看")]),s("a-divider",{attrs:{type:"vertical"}}),s("a",{on:{click:function(t){return e.editPlan(a)}}},[e._v("修改")]),s("a-divider",{attrs:{type:"vertical"}}),s("a-popconfirm",{attrs:{title:"确定删除计划吗？","ok-text":"确定","cancel-text":"取消"},on:{confirm:function(t){return e.deletePlan(a)}}},[s("a",[e._v("删除")])])],1)}}])}),s("add-form",{ref:"addForm",on:{ok:e.handleOk}}),s("edit-form",{ref:"editForm",on:{ok:e.handleOk}})],1)],1),s("a-tab-pane",{key:"2",attrs:{tab:"计划分配","force-render":""}},[s("div",{staticClass:"div-service-service"},[s("a-card",{staticClass:"card-right-service",attrs:{bordered:!1}},[e.hasPerm("sysPos:page")?s("div",{staticClass:"table-page-search-wrapper"},[s("a-form",{attrs:{layout:"inline"}},[s("a-row",{attrs:{gutter:48}},[s("a-col",{attrs:{md:3,sm:24}},[s("span",{staticClass:"table-page-search-submitButtons",style:e.advanced&&{float:"right",overflow:"hidden"}||{}},[s("a-button",{attrs:{type:"primary"},on:{click:e.dispatchPlan}},[e._v("分配计划")])],1)]),s("a-col",{attrs:{md:5,sm:24}},[s("a-form-item",{attrs:{label:"科室"}},[s("div",{staticClass:"div-text-auto"},[s("a-auto-complete",{staticClass:"global-search",staticStyle:{width:"100%","font-size":"14px"},attrs:{size:"large",placeholder:"请输入并选择","option-label-prop":"title"},on:{select:e.onSelect,search:e.handleSearch},model:{value:e.chooseDeptItem.departmentName,callback:function(t){e.$set(e.chooseDeptItem,"departmentName",t)},expression:"chooseDeptItem.departmentName"}},[s("template",{slot:"dataSource"},e._l(e.keshiDataTemp,(function(t){return s("a-select-option",{key:t.departmentId+"",attrs:{title:t.departmentName}},[e._v(" "+e._s(t.departmentName)+" ")])})),1)],2)],1)])],1),s("a-col",{attrs:{md:6,sm:24}},[s("a-form-item",{attrs:{label:"专病"}},[s("a-input",{attrs:{"allow-clear":"",placeholder:"请输入专病 "},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$refs.table.refresh(!0)}},model:{value:e.queryParam.cyzd,callback:function(t){e.$set(e.queryParam,"cyzd",t)},expression:"queryParam.cyzd"}})],1)],1),s("a-col",{attrs:{md:6,sm:24}},[s("a-form-item",{attrs:{label:"患者名称"}},[s("a-input",{attrs:{"allow-clear":"",placeholder:"请输入患者名称"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$refs.table.refresh(!0)}},model:{value:e.queryParam.userName,callback:function(t){e.$set(e.queryParam,"userName",t)},expression:"queryParam.userName"}})],1)],1),s("a-col",{attrs:{md:3,sm:24}},[s("span",{staticClass:"table-page-search-submitButtons",style:e.advanced&&{float:"right",overflow:"hidden"}||{}},[s("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.$refs.tableDispatch.refresh(!0)}}},[e._v("查询")])],1)])],1)],1)],1):e._e(),s("s-table",{ref:"tableDispatch",attrs:{size:"default",columns:e.columnsDispatch,data:e.loadDataDispatch,"row-selection":e.rowSelection,alert:!0,rowKey:function(e){return e.code}}}),s("add-form-dispatch",{ref:"addFormDispatch",on:{ok:e.handleOkDispatch}}),s("edit-form-dispatch",{ref:"editFormDispatch",on:{ok:e.handleOkDispatch}})],1)],1)]),s("a-tab-pane",{key:"3",attrs:{tab:"随访统计"}},[s("a-tabs",{attrs:{"default-active-key":"5"},on:{change:e.callback}},[s("a-tab-pane",{key:"5",attrs:{tab:"统计看板"}},[s("div",{staticClass:"table-page-search-wrapper"},[s("a-form",{attrs:{layout:"inline"}},[s("a-row",{attrs:{gutter:48}},[s("a-col",{attrs:{md:6,sm:24}},[s("a-form-item",{attrs:{label:"科室",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[s("a-select",{attrs:{"allow-clear":"",mode:"multiple",placeholder:"请选择科室"},model:{value:e.queryParamsBor.deptCodes,callback:function(t){e.$set(e.queryParamsBor,"deptCodes",t)},expression:"queryParamsBor.deptCodes"}},e._l(e.originData,(function(t,a){return s("a-select-option",{key:a,attrs:{value:t.departmentId}},[e._v(e._s(t.departmentName))])})),1)],1)],1),s("a-col",{attrs:{md:7,sm:24}},[s("a-form-item",{attrs:{label:"时间"}},[s("a-range-picker",{attrs:{value:e.createValueBor},on:{change:e.onChangeBor}})],1)],1),s("a-col",{attrs:{md:5,sm:24}},[7==e.user.roleId||"admin"==e.user.roleName?s("a-button",{staticStyle:{"margin-right":"3%"},attrs:{type:"primary"},on:{click:e.resetBor}},[e._v("全院")]):e._e(),s("a-button",{attrs:{type:"primary"},on:{click:e.getStatBorData}},[e._v("查询")])],1)],1)],1)],1),s("div",{staticClass:"row-stat"},[s("div",{staticClass:"row-item"},[s("div",{staticClass:"item-inside"},[s("img",{staticClass:"item-image",attrs:{src:a("61aa")}}),s("div",{staticClass:"item-right"},[s("div",{staticClass:"item-right-top",staticStyle:{color:"#1890ff"}},[s("div",{staticClass:"item-stat-num"},[e._v(e._s(e.statData.totalPatient))]),s("div",{staticClass:"item-stat-unit"},[e._v("人")])]),s("div",{staticClass:"item-stat-name"},[e._v("随访总人数")])])])]),s("div",{staticClass:"row-item"},[s("div",{staticClass:"item-inside"},[s("img",{staticClass:"item-image",attrs:{src:a("7583")}}),s("div",{staticClass:"item-right"},[s("div",{staticClass:"item-right-top",staticStyle:{color:"#4dad90"}},[s("div",{staticClass:"item-stat-num"},[e._v(e._s(e.statData.finishedPatient))]),s("div",{staticClass:"item-stat-unit"},[e._v("人")])]),s("div",{staticClass:"item-stat-name"},[e._v("随访完成数")])])])]),s("div",{staticClass:"row-item"},[s("div",{staticClass:"item-inside"},[s("img",{staticClass:"item-image",attrs:{src:a("c024")}}),s("div",{staticClass:"item-right"},[s("div",{staticClass:"item-right-top",staticStyle:{color:"#cdad3d"}},[s("div",{staticClass:"item-stat-num"},[e._v(e._s(e.statData.visitedRate))]),s("div",{staticClass:"item-stat-unit"},[e._v("%")])]),s("div",{staticClass:"item-stat-name"},[e._v("随访率")])])])])]),s("div",{staticClass:"row-stat"},[s("div",{staticClass:"row-item"},[s("div",{staticClass:"item-inside"},[s("img",{staticClass:"item-image",attrs:{src:a("3190")}}),s("div",{staticClass:"item-right"},[s("div",{staticClass:"item-right-top",staticStyle:{color:"#4e6e8d"}},[s("div",{staticClass:"item-stat-num"},[e._v(e._s(e.statData.assginedPatient))]),s("div",{staticClass:"item-stat-unit"},[e._v("人")])]),s("div",{staticClass:"item-stat-name"},[e._v("待分配随访人数")])])])]),s("div",{staticClass:"row-item"},[s("div",{staticClass:"item-inside"},[s("img",{staticClass:"item-image",attrs:{src:a("2055")}}),s("div",{staticClass:"item-right"},[s("div",{staticClass:"item-right-top",staticStyle:{color:"#e05852"}},[s("div",{staticClass:"item-stat-num"},[e._v(e._s(e.statData.outTimePatient))]),s("div",{staticClass:"item-stat-unit"},[e._v("人")])]),s("div",{staticClass:"item-stat-name"},[e._v("随访超时未完成人数")])])])]),s("div",{staticClass:"row-item"},[s("div",{staticClass:"item-inside"},[s("img",{staticClass:"item-image",attrs:{src:a("98ee")}}),s("div",{staticClass:"item-right"},[s("div",{staticClass:"item-right-top",staticStyle:{color:"#e48533"}},[s("div",{staticClass:"item-stat-num"},[e._v(e._s(e.statData.telVisitPatient))]),s("div",{staticClass:"item-stat-unit"},[e._v("人")])]),s("div",{staticClass:"item-stat-name"},[e._v("电话随访人数")])])])])])]),s("a-tab-pane",{key:"6",attrs:{tab:"随访详情","force-render":""}},[s("div",{staticClass:"div-inquiry-text"},[s("a-card",{staticClass:"card-right",attrs:{bordered:!1}},[s("div",{staticClass:"table-page-search-wrapper"},[s("a-form",{attrs:{layout:"inline"}},[s("a-row",{attrs:{gutter:48}},[s("a-col",{attrs:{md:6,sm:24}},[s("a-form-item",{attrs:{label:"科室",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[s("a-select",{attrs:{"allow-clear":"",mode:"multiple",placeholder:"请选择科室"},model:{value:e.queryParamsStat.deptCodes,callback:function(t){e.$set(e.queryParamsStat,"deptCodes",t)},expression:"queryParamsStat.deptCodes"}},e._l(e.originData,(function(t,a){return s("a-select-option",{key:a,attrs:{value:t.departmentId}},[e._v(e._s(t.departmentName))])})),1)],1)],1),s("a-col",{attrs:{md:6,sm:24}},[s("a-form-item",{attrs:{label:"状态"}},[s("a-select",{attrs:{"allow-clear":"",placeholder:"请选择状态"},model:{value:e.queryParamsStat.status,callback:function(t){e.$set(e.queryParamsStat,"status",t)},expression:"queryParamsStat.status"}},e._l(e.statusData,(function(t,a){return s("a-select-option",{key:a,attrs:{value:t.code}},[e._v(e._s(t.value))])})),1)],1)],1),s("a-col",{attrs:{md:6,sm:24}},[s("a-form-item",{attrs:{label:"抽查状态"}},[s("a-select",{attrs:{"allow-clear":"",placeholder:"请选择抽查状态"},model:{value:e.queryParamsStat.checkStatus,callback:function(t){e.$set(e.queryParamsStat,"checkStatus",t)},expression:"queryParamsStat.checkStatus"}},e._l(e.statusDataCheck,(function(t,a){return s("a-select-option",{key:a,attrs:{value:t.code}},[e._v(e._s(t.value))])})),1)],1)],1),s("a-col",{attrs:{md:7,sm:24}},[s("a-form-item",{attrs:{label:"时间"}},[s("a-range-picker",{attrs:{value:e.createValue},on:{change:e.onChange}})],1)],1),s("a-col",{attrs:{md:5,sm:24}},[7==e.user.roleId||"admin"==e.user.roleName?s("a-button",{staticStyle:{"margin-right":"3%"},attrs:{type:"primary"},on:{click:e.resetStat}},[e._v("全院")]):e._e(),s("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.$refs.tableStat.refresh(!0)}}},[e._v("查询")])],1)],1)],1)],1),s("s-table",{ref:"tableStat",attrs:{size:"default",columns:e.columnsStat,data:e.loadDataStat,alert:!0,rowKey:function(e){return e.code}},scopedSlots:e._u([{key:"action",fn:function(t,a){return s("span",{},[4==a.status?s("a",{on:{click:function(t){return e.$refs.statSolve.doDeal(a)}}},[e._v("处理")]):e._e(),4==a.status?s("a-divider",{attrs:{type:"vertical"}}):e._e(),s("a",{on:{click:function(t){return e.$refs.statDetail.edit(a.id)}}},[e._v("详情")]),5==a.status?s("a-divider",{attrs:{type:"vertical"}}):e._e(),e._e(),5==a.status&&1==a.checkStatus?s("a",{on:{click:function(t){return e.$refs.statSolve.checkInfo(a)}}},[e._v("抽查详情")]):e._e()],1)}}])}),s("stat-detail",{ref:"statDetail",on:{ok:e.handleOkStat}}),s("stat-solve",{ref:"statSolve",on:{ok:e.handleOkStat}})],1)],1)])],1)],1)],1)],1)},r=[],n=a("ade3"),l=(a("d3b7"),a("159b"),a("b680"),a("4de4"),a("7db0"),a("4e82"),a("2af9")),o=a("4cab"),c=a("c365"),d=a("cc58"),m=a("3580"),u=a("26dd"),p=a("c1df"),h=a.n(p),f=a("389a"),v=a("2837"),g=a("9fb0"),b=a("2b0e"),C=a("ca00"),y={components:{STable:l["s"],addForm:c["default"],editForm:d["default"],addFormDispatch:m["default"],editFormDispatch:u["default"],statDetail:f["default"],statSolve:v["default"]},data:function(){var e=this;return{advanced:!1,idArr:[],columns:[{title:"序号",dataIndex:"xh"},{title:"计划名称",dataIndex:"templateName"},{title:"科室",dataIndex:"deptName"},{title:"专病",dataIndex:"diseaseName"},{title:"创建时间",dataIndex:"timeDay"},{title:"操作",width:"150px",dataIndex:"action",scopedSlots:{customRender:"action"}}],loadData:function(t){var a=JSON.parse(JSON.stringify(e.queryParam));return e.idArr.length>0&&e.idArr.forEach((function(t,s){s!=e.idArr.length-1?a.departmentIds=a.departmentIds+t+",":a.departmentIds=a.departmentIds+t})),e.isNoDepart&&(a.departmentIds="-1"),7!=e.user.roleId&&"admin"!=e.user.roleName&&0==e.idArr.length&&e.originData.forEach((function(t,s){s!=e.originData.length-1?a.departmentIds=a.departmentIds+t.departmentId+",":a.departmentIds=a.departmentIds+t.departmentId})),Object(o["kb"])(Object.assign(t,a)).then((function(t){for(var a=0;a<t.data.rows.length;a++)e.$set(t.data.rows[a],"timeDay",Object(C["c"])(t.data.rows[a].createTime)),e.$set(t.data.rows[a],"xh",a+1+(t.data.pageNo-1)*t.data.pageSize);return t.data}))},selectedRowKeys:[],keshiData:[],queryParam:{existsPlanFlag:2,departmentIds:""},columnsDispatch:[{title:"姓名",dataIndex:"userName"},{title:"身份证号",dataIndex:"idNumber"},{title:"电话号码",dataIndex:"tel"},{title:"所在病区",dataIndex:"bqmc"},{title:"性别",dataIndex:"sex"},{title:"年龄",dataIndex:"ageCount"},{title:"科室",dataIndex:"ksmc"},{title:"专病",dataIndex:"cyzd"}],loadDataOut:[],loadDataDispatch:function(t){return Object(o["tb"])(Object.assign(t,e.queryParam)).then((function(t){for(var a=0;a<t.data.rows.length;a++)t.data.rows[a].age?e.$set(t.data.rows[a],"ageCount",e.countAge(t.data.rows[a].age)):e.$set(t.data.rows[a],"ageCount","暂无"),e.$set(t.data.rows[a],"outTime",t.data.rows[a].cysj.substring(0,4)+"-"+t.data.rows[a].cysj.substring(4,6)+"-"+t.data.rows[a].cysj.substring(6,8)),t.data.rows[a].planInfo&&0!=t.data.rows[a].planInfo.length?e.$set(t.data.rows[a],"hasPlan","是"):e.$set(t.data.rows[a],"hasPlan","否"),t.data.rows[a].bqmc?e.$set(t.data.rows[a],"hasGive","住院"):e.$set(t.data.rows[a],"hasGive","门诊");return e.loadDataOut=t.data,t.data}))},selectedRows:[],chooseDeptItem:{},originData:[],keshiDataTemp:[],labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:11}},queryParamsStat:{deptCodes:[],status:void 0,checkStatus:void 0,beginDate:Object(C["f"])(),endDate:Object(C["e"])()},queryParamsStatOrigin:{deptCodes:[],status:void 0,checkStatus:void 0,beginDate:"",endDate:""},columnsStat:[{title:"序号",dataIndex:"xh"},{title:"患者",dataIndex:"xm"},{title:"所在病区",dataIndex:"bqmc"},{title:"性别",dataIndex:"xbmc"},{title:"年龄",dataIndex:"nl"},{title:"科室",dataIndex:"ksmc"},{title:"专病",dataIndex:"cyzd"},{title:"登记时间",dataIndex:"createTimeOut"},{title:"住院号",dataIndex:"zyh"},{title:"出院时间",dataIndex:"cysj"},{title:"执行计划",dataIndex:"planName"},{title:"抽查状态",dataIndex:"checkText"},{title:"状态",dataIndex:"stateText"},{title:"操作",width:"150px",dataIndex:"action",scopedSlots:{customRender:"action"}}],createValue:[],createValueBor:[],user:{},statusData:[{code:-1,value:"全部"},{code:1,value:"未注册"},{code:2,value:"待分配"},{code:3,value:"执行中"},{code:4,value:"超时"},{code:5,value:"电话随访"},{code:6,value:"失访"},{code:7,value:"已完成"}],statusDataCheck:[{code:-1,value:"全部"},{code:1,value:"已抽查"},{code:0,value:"未抽查"}],dateFormat:"YYYY-MM-DD",loadDataStat:function(t){var a=JSON.parse(JSON.stringify(e.queryParamsStat));return e.isNoDepart&&a.deptCodes.push(-1),7!=e.user.roleId&&"admin"!=e.user.roleName&&0==e.queryParamsStat.deptCodes.length&&e.originData.forEach((function(e,t){a.deptCodes.push(e.departmentId)})),-1==e.queryParamsStat.status&&delete a.status,-1==e.queryParamsStat.checkStatus&&delete a.checkStatus,Object(o["yc"])(Object.assign(t,a)).then((function(t){if(0==t.code){for(var a=0;a<t.data.rows.length;a++)e.$set(t.data.rows[a],"xh",a+1+(t.data.pageNo-1)*t.data.pageSize),e.$set(t.data.rows[a],"stateText",e.getClassText(t.data.rows[a].status)),5==t.data.rows[a].status?e.$set(t.data.rows[a],"checkText",e.getCheckText(t.data.rows[a].checkStatus)):e.$set(t.data.rows[a],"checkText",""),e.$set(t.data.rows[a],"createTimeOut",Object(C["c"])(t.data.rows[a].createTime));return t.data}}))},statData:{outTimePatient:0,finishedPatient:0,assginedPatient:0,telVisitPatient:0,totalPatient:0,visitedRate:"0.00"},queryParamsBor:{deptCodes:[],beginDate:Object(C["f"])(),endDate:Object(C["e"])()},queryParamsBorOrigin:{deptCodes:[],beginDate:"",endDate:""}}},computed:{rowSelection:function(){return{onChange:this.onSelectChange,getCheckboxProps:function(e){return{props:{disabled:!e.userId,name:e.userId}}}}},hasSelected:function(){return this.selectedRowKeys.length>0}},created:function(){var e=this;this.user=b["a"].ls.get(g["o"]),7==this.user.roleId||"admin"==this.user.roleName?Object(o["eb"])().then((function(t){0==t.code&&(e.originData=t.data,e.keshiData=JSON.parse(JSON.stringify(t.data)),e.keshiDataTemp=JSON.parse(JSON.stringify(e.originData)),e.originDataStat=JSON.parse(JSON.stringify(t.data)),e.getStatBorData(),e.$refs.table.refresh(),e.$refs.tableStat.refresh())})):Object(o["fb"])().then((function(t){0==t.code&&(e.originData=t.data,e.originDataStat=JSON.parse(JSON.stringify(t.data)),e.keshiData=JSON.parse(JSON.stringify(t.data)),e.keshiDataTemp=JSON.parse(JSON.stringify(e.originData)),e.originData.length>0?(e.originData.forEach((function(t,a){e.idArr.push(t.departmentId)})),e.queryParamsBor.deptCodes=JSON.parse(JSON.stringify(e.idArr)),e.queryParamsStat.deptCodes=JSON.parse(JSON.stringify(e.idArr))):(e.isNoDepart=!0,e.idArr=[],e.queryParamsBor.deptCodes=[],e.queryParamsStat.deptCodes=[]),e.getStatBorData(),e.$refs.table.refresh(),e.$refs.tableStat.refresh())})),this.createValue=[h()(Object(C["f"])(),this.dateFormat),h()(Object(C["e"])(),this.dateFormat)],this.createValueBor=[h()(Object(C["f"])(),this.dateFormat),h()(Object(C["e"])(),this.dateFormat)]},methods:(s={getStatBorData:function(){var e=this;this.isNoDepart&&this.queryParamsBor.deptCodes.push(-1),7!=this.user.roleId&&"admin"!=this.user.roleName&&0==this.queryParamsBor.deptCodes.length&&this.originData.forEach((function(t,a){e.queryParamsBor.deptCodes.push(t.departmentId)})),Object(o["bd"])(this.queryParamsBor).then((function(t){0==t.code&&(e.statData=t.data,e.statData.visitedRate=(100*e.statData.visitedRate).toFixed(2))}))},callback:function(e){},addPlan:function(){this.$router.push({name:"add_plan"})},editPlan:function(e){this.$router.push({name:"edit_plan",query:{planId:e.templateId}})},lookPlan:function(e){this.$router.push({name:"look_plan",query:{planId:e.templateId}})},deletePlan:function(e){var t=this;Object(o["C"])(e.templateId).then((function(e){0==e.code?(t.$message.success("删除成功"),t.handleOk()):t.$message.error("删除失败："+e.message)}))},handleOk:function(){this.$refs.table.refresh()},onSelectChange:function(e){this.selectedRowKeys=e},handleSearch:function(e){this.keshiDataTemp=e?this.originData.filter((function(t){return-1!=t.departmentName.indexOf(e)})):JSON.parse(JSON.stringify(this.originData))},onSelect:function(e,t){this.getIndex(e);this.chooseDeptItem=this.originData.find((function(t){return t.departmentId==e}))},getIndex:function(e){for(var t=-1,a=0;a<this.keshiData.length;a++)if(this.keshiData[a].departmentId==e)return t=a,t;return t},countAge:function(e){var t=e.substring(0,4)+"-"+e.substring(4,6)+"-"+e.substring(6,8),a=new Date(t),s=new Date;e=s.getFullYear()-a.getFullYear()-(s.getMonth()<a.getMonth()||s.getMonth()==a.getMonth()&&s.getDate()<a.getDate()?1:0);return e},dispatchPlan:function(){if(0!=this.selectedRowKeys.length){for(var e=[],t=0;t<this.selectedRowKeys.length;t++)e.push(this.loadDataOut.rows[this.selectedRowKeys[t]]);for(var a=[],s=0;s<e.length;s++)a.push(e[s].ks);a.sort();for(var i=0;i<a.length-1;i++)if(a[i]!=a[i+1])return void this.$message.error("请选择同一个科室的患者");this.$router.push({name:"dispatch_plan",query:e})}else this.$message.error("请勾选分配计划的患者")},handleOkDispatch:function(){this.$refs.tableDispatch.refresh()}},Object(n["a"])(s,"onSelectChange",(function(e,t){this.selectedRowKeys=e,this.selectedRows=t})),Object(n["a"])(s,"onChange",(function(e,t){this.createValue=e,this.queryParamsStat.beginDate=t[0],this.queryParamsStat.endDate=t[1]})),Object(n["a"])(s,"onChangeBor",(function(e,t){this.createValueBor=e,this.queryParamsBor.beginDate=t[0],this.queryParamsBor.endDate=t[1]})),Object(n["a"])(s,"reset",(function(){this.idArr=[],this.queryParam=JSON.parse(JSON.stringify(this.queryParamOrigin)),this.$refs.table.refresh()})),Object(n["a"])(s,"resetStat",(function(){this.queryParamsStat=JSON.parse(JSON.stringify(this.queryParamsStatOrigin)),this.createValue=[],this.$refs.tableStat.refresh()})),Object(n["a"])(s,"resetBor",(function(){this.queryParamsBor=JSON.parse(JSON.stringify(this.queryParamsBorOrigin)),this.createValueBor=[],this.getStatBorData()})),Object(n["a"])(s,"delVersion",(function(e){var t=this;Object(o["G"])({id:e.id,state:2}).then((function(e){e.success?(t.$message.success("删除成功"),t.$refs.table.refresh()):t.$message.error("删除失败："+e.message)})).catch((function(e){t.$message.error("删除错误："+e.message)}))})),Object(n["a"])(s,"getClassText",(function(e){return 1==e?"未注册":2==e?"待分配":3==e?"执行中":4==e?"超时":5==e?"电话随访":6==e?"失访":7==e?"已完成":void 0})),Object(n["a"])(s,"getCheckText",(function(e){return 0==e?"未抽查":1==e?"已抽查":void 0})),Object(n["a"])(s,"handleOkStat",(function(){this.$refs.tableStat.refresh()})),s)},k=y,w=(a("b660"),a("2877")),S=Object(w["a"])(k,i,r,!1,null,null,null);t["default"]=S.exports},"98ee":function(e,t,a){e.exports=a.p+"img/img6.ae459fa4.png"},"9fd6":function(e,t,a){"use strict";a("630f")},b660:function(e,t,a){"use strict";a("04a0")},bdef:function(e,t,a){"use strict";a("5e99")},c024:function(e,t,a){e.exports=a.p+"img/img3.80395f2b.png"},c365:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"新增职位",width:900,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{attrs:{label:"职位名称",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入职位名称！"}]}],expression:"['name', {rules: [{required: true, message: '请输入职位名称！'}]}]"}],attrs:{placeholder:"请输入职位名称"}})],1),a("a-form-item",{attrs:{label:"唯一编码",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["code",{rules:[{required:!0,message:"请输入唯一编码！"}]}],expression:"['code', {rules: [{required: true,  message: '请输入唯一编码！'}]}]"}],attrs:{placeholder:"请输入唯一编码"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"排序"}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["sort",{initialValue:100}],expression:"['sort', { initialValue: 100 }]"}],staticStyle:{width:"100%"},attrs:{placeholder:"请输入排序",min:1,max:1e3}})],1),a("a-form-item",{attrs:{label:"备注",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remark"],expression:"['remark']"}],attrs:{rows:4,placeholder:"请输入备注"}})],1)],1)],1)],1)},i=[],r=(a("d3b7"),a("4cab")),n={data:function(){return{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:15}},visible:!1,confirmLoading:!1,form:this.$form.createForm(this)}},methods:{add:function(e){this.visible=!0},handleSubmit:function(){var e=this,t=this.form.validateFields;this.confirmLoading=!0,t((function(t,a){t?e.confirmLoading=!1:Object(r["gd"])(a).then((function(t){t.success?(e.$message.success("新增成功"),e.visible=!1,e.confirmLoading=!1,e.$emit("ok",a),e.form.resetFields()):e.$message.error("新增失败："+t.message)})).finally((function(t){e.confirmLoading=!1}))}))},handleCancel:function(){this.form.resetFields(),this.visible=!1}}},l=n,o=a("2877"),c=Object(o["a"])(l,s,i,!1,null,null,null);t["default"]=c.exports},cc58:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"修改医生用户",width:900,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{staticStyle:{display:"none"},attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["id"],expression:"['id']"}]})],1),a("a-form-item",{attrs:{label:"姓名",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["xm",{rules:[{required:!0,message:"请输入姓名！"}]}],expression:"['xm', { rules: [{ required: true, message: '请输入姓名！' }] }]"}],attrs:{disabled:"",placeholder:"请输入姓名"}})],1),a("a-form-item",{attrs:{label:"性别",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["xb",{rules:[{required:!0,message:"请选择性别！"}]}],expression:"['xb', { rules: [{ required: true, message: '请选择性别！' }] }]"}],attrs:{name:"radioGroup","default-value":1}},[a("a-radio",{attrs:{value:1}},[e._v(" 男 ")]),a("a-radio",{staticStyle:{width:"100px"},attrs:{value:2}},[e._v(" 女 ")])],1)],1),a("a-form-item",{attrs:{label:"所属机构科室",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["jg",{rules:[{required:!0,message:"请选择机构"}]}],expression:"['jg', { rules: [{ required: true, message: '请选择机构' }] }]"}],attrs:{"allow-clear":"",placeholder:"湘雅附二医院"}},e._l(e.hosData,(function(t,s){return a("a-select-option",{key:s,attrs:{value:t.code}},[e._v(e._s(t.value))])})),1)],1),a("a-form-item",{attrs:{label:"科室",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["ssks",{rules:[{required:!0,message:"请选择科室"}]}],expression:"['ssks', { rules: [{ required: true, message: '请选择科室' }] }]"}],attrs:{"allow-clear":"",placeholder:"请选择科室"},on:{select:e.onSelected}},e._l(e.keshiData,(function(t,s){return a("a-select-option",{key:s,attrs:{value:t.yyksdm}},[e._v(e._s(t.yyksmc))])})),1)],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"职称","has-feedback":""}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["zhic",{rules:[{required:!0,message:"请输入职称！"}]}],expression:"['zhic', { rules: [{ required: true, message: '请输入职称！' }] }]"}],attrs:{placeholder:"请输入职称"}})],1),a("a-form-item",{attrs:{label:"手机号码",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"has-feedback":""}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["tel",{rules:[{required:!0,message:"请输入手机号码！"}]}],expression:"['tel', { rules: [{ required: true, message: '请输入手机号码！' }] }]"}],attrs:{placeholder:"请输入手机号码"}})],1)],1)],1)],1)},i=[],r=(a("99af"),a("d3b7"),a("4cab")),n={data:function(){return{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:15}},keshiData:[],hosData:[{code:"444885559",value:"湘雅附二医院"}],visible:!1,confirmLoading:!1,form:this.$form.createForm(this)}},created:function(){this.getKeShi()},methods:{edit:function(e){var t=this;this.visible=!0,setTimeout((function(){t.form.setFieldsValue({id:e.id,xm:e.xm,jg:"湘雅附二医院",ssks:e.ssks,zhic:e.zhic,tel:e.tel}),"男"!=e.xb&&e.xb?t.form.setFieldsValue({xb:2}):t.form.setFieldsValue({xb:1})}),100)},onSelected:function(e){for(var t=0;t<this.keshiData.length;t++)this.keshiData[t].yyksdm==e&&(this.seletSsksName=this.keshiData[t].yyksmc)},getKeShi:function(){var e=this;Object(r["pb"])({hospitalCode:"444885559"}).then((function(t){if(t.success){for(var a=[],s=0;s<t.data.length;s++)t.data[s].departmentList&&t.data[s].departmentList.length>0&&(a=a.concat(t.data[s].departmentList));e.keshiData=a}})).catch((function(e){}))},handleSubmit:function(){var e=this,t=this.form.validateFields;this.confirmLoading=!0,t((function(t,a){t?e.confirmLoading=!1:(1==a.xb?a.xb="男":a.xb="女",a.ssksName=e.seletSsksName,delete a.jg,Object(r["i"])(a).then((function(t){t.success?(e.$message.success("编辑成功"),e.visible=!1,e.confirmLoading=!1,e.$emit("ok",a),e.form.resetFields()):e.$message.error("编辑失败："+t.message)})).finally((function(t){e.confirmLoading=!1})))}))},handleCancel:function(){this.form.resetFields(),this.visible=!1}}},l=n,o=a("2877"),c=Object(o["a"])(l,s,i,!1,null,null,null);t["default"]=c.exports}}]);